<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tom Lee</title>


    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Domine:wght@400;600;700&family=Josefin+Sans:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Theme CSS -->
    <link rel="stylesheet" href="https://tomlee.wtf/theme/css/style.css">

    <link href="https://tomlee.wtf/feed.xml" type="application/atom+xml" rel="alternate" title="Tom Lee Atom Feed" />

    <script data-host="https://app.microanalytics.io" data-dnt="false" src="https://app.microanalytics.io/js/script.js" id="ZwSg9rf6GA" async defer></script>

</head>

<body>
    <header id="typology-header" class="typology-header">
        <div class="container">
            <div class="header-content">
                <div class="site-branding">
                    <h1 class="site-title"><a href="https://tomlee.wtf/">Tom Lee</a></h1>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li class="social-icon"><a href="https://tomlee.wtf/search/" title="Search" aria-label="Search">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                        </a></li>
                        <!-- <li><a href="https://tomlee.wtf/about/">About</a></li>
                        <li><a href="https://tomlee.wtf/projects/">Projects</a></li> -->
                        <li class="social-icon"><a href="https://github.com/sbma44" target="_blank" rel="noopener" title="GitHub" aria-label="GitHub">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                        </a></li>
                        <li class="social-icon"><a href="https://x.com/tjl" target="_blank" rel="noopener" title="Twitter" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg>
                        </a></li>
                        <li class="social-icon"><a href="https://bsky.app/profile/tjl.bsky.social" target="_blank" rel="noopener" title="Bluesky" aria-label="Bluesky">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8z"/></svg>
                        </a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <div class="typology-fake-bg">
<div class="typology-section">

    <div class="section-content">
        <div class="typology-posts">
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/27/fighting-movable-type-comment-spam-part-2/">fighting movable type comment spam - part 2</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-27T13:43:00-05:00">Saturday, 27 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">F</div>
                </header>

                <div class="entry-content">
                    <p><a class="reference external" href="http://www.informationleafblower.com">Kyle</a> and <a class="reference external" href="http://www.jeffnye.org">Jeff</a> rightly pointed out that yesterday's bout of MT-theorizing (aka <a class="reference external" href="/2007/01/26/fighting-movable-type-comment-spam-part-1/">part 1</a>) — however marginally interesting it might have been — wasn't all that helpful. They're right. I didn't write it in a practically-minded sort of way. So here's a shot at explaining how you'd use the stuff I discussed. And, happily enough, some of these steps are necessary for you to use the upcoming method that I alluded to at the end of the last post — so I would've had to write a large part of this anyway.</p>
<p>First things first. The Javascript obfuscator function that I wrote about is written in PHP. More importantly, the rotating comment script functionality I keep alluding to (and which will be a considerably more powerful anti-spam measure) will rely on PHP. But if your Movable Type site was installed with the default settings, its pages aren't PHP — they're just HTML (Jeff and Kyle: I checked, and this applies to both of you).</p>
<p>So what does this mean, and how do we fix it? Well, PHP is a server-side scripting language. When it serves a webpage out to a user it looks for PHP code in it (marked by blocks beginning with &quot;&lt;?php&quot; and ending with &quot;?&gt;&quot;) and runs it before sending the resulting HTML to a user's web browser. You can do all kinds of useful things with PHP — talk to databases, manage user sessions, create graphics, compose PDFs — but we'll just be using some of its most basic functionality. But even if you weren't trying to fight comment spam I think that converting your site to PHP would be a good idea. There are a lot of neat things that people have written in it that you might want to use someday.</p>
<p>By default PHP doesn't run on every web page coming from a server. Instead, it only runs on pages whose names end in .php — this is done for efficiency's sake, so that PHP is only invoked when necessary. If you have complete control over the server you can change this. But for you, me, and anyone else bothering to read this, you won't have that level of control. So instead we need to make Movable Type begin to generate .php files instead of .html.</p>
<p>Doing this is actually pretty easy. First, go to the templates section of your blog's MT administrative interface. By default you should be looking at the Index Templates. You'll notice that there's a list of &quot;Output Files&quot;. Find one of these that ends in &quot;.html&quot; and click on the template name. You should see a screen that looks like this:</p>
<p><a class="reference external image-reference" href="http://www.flickr.com/photo_zoom.gne?id=370935695&amp;size=o"><img alt="changing a movable type template's output file extension" class="center" src="http://farm1.static.flickr.com/162/370935695_7019159597.jpg" /></a></p>
<p>I've highlighted the extension in yellow. Just change it from &quot;html&quot; to &quot;php&quot; and save the template. Do this for each template in the Index Templates section that has an Output File ending in .html. The next time that your site is rebuilt, the index templates will have .php extensions — so instead of index.html, you'll get index.php.</p>
<p>But the Index Templates are only half of the problem. There are a lot of other files generated by MT: the pages for individual entries, for example. These share a common template — it's under the &quot;Archives&quot; tab in the templates section. But if you click to it, you'll find that there's no place to specify the extension.</p>
<p>Instead, click on &quot;Settings&quot; in the left sidebar, then on the &quot;Publishing&quot; tab. You'll see a screen like this:</p>
<p><a class="reference external image-reference" href="http://www.flickr.com/photo_zoom.gne?id=370935654&amp;size=o"><img alt="changing movable type's archive template extension" class="center" src="http://farm1.static.flickr.com/138/370935654_8110dea79a.jpg" /></a></p>
<p>Again, note the yellow box, change its contents from &quot;html&quot; to &quot;php&quot; and hit &quot;Save Changes&quot;.</p>
<p><img alt="Movable Type's 'Rebuild' Button" class="right" src="/static/2007/01/27/2000127_mtrebuilt.gif" />You're almost done with the HTML » PHP conversion. Click on the &quot;Rebuild Site&quot; button in the left sidebar, select &quot;Rebuild All Files&quot; from the dropdown and click the &quot;Rebuild&quot; button. Depending on the size of your site, this might take a little while.</p>
<p>Okay. What Movable Type has just done is regenerated every file on your site as a .php file. But there's a problem: the .html files are still there. It's not a <em>big</em> problem — the links that are generated by MT to things like your archives and individual entries will all have been changed automatically. But incoming links to old entries will be pointing at the .html file, which is no longer the right thing for them to point to. Fortunately, we can fix this. Open up Notepad or another text editor and enter this text:</p>
<blockquote>
<pre class="literal-block">
# This file automatically sends users looking for .html files to the
# equivalent .php file, if it exists.  It should be named .htaccess and placed
# in the directory that corresponds to the root of your website.
&lt;IfModule mod_rewrite.c&gt;
# turn on the rewriting engine
RewriteEngine on
# make this equivalent to the part that comes after your
# domain name.  for example, if your blog lives at
# http://www.server.com/my/blog, make the next line read
# RewriteBase /my/blog
RewriteBase   /
# parse out basename, but remember if we did
RewriteRule   ^(.*)\.html$              $1      [NC,E=WasHTM:yes]
# rewrite to document.php if exists
RewriteCond   %{REQUEST_FILENAME}.php -f
RewriteRule   ^(.*)$ $1.php             [R=301,S=1]
# else reverse the previous removal of .html
RewriteCond   %{ENV:WasHTM}            ^yes$
RewriteRule   ^(.*)$ $1.html
&lt;/IfModule&gt;
# adapted from http://www.totalchoicehosting.com/forums/lofiversion/index.php/t25151.html
</pre>
</blockquote>
<p>Be sure you edit the line with &quot;RewriteBase&quot; in it if your blog lives in a subdirectory of your website (if it lives at the domain's root — e.g. <a class="reference external" href="http://www.manifestdensity.net">http://www.manifestdensity.net</a> instead of <a class="reference external" href="http://www.zunta.org/blog">http://www.zunta.org/blog</a> — then you can leave it alone). Save this as a file called &quot;htaccess&quot;. Using an FTP client, upload it to the root public directory of your website — the directory which, if I uploaded a file called test.txt to it, would result in the file being available at /static/2007/01/27/test.txt (it's frequently the directory called &quot;public_html&quot; that you see as soon as you connect with FTP). Then, still using the FTP client, rename it to &quot;<strong>.</strong>htaccess&quot; (we're adding the dot at this point because on some systems adding it earlier would have made it invisible, and consequently quite a bit harder to work with). If an .htaccess file already existed, you probably shouldn't overwrite it. Email me the contents and we can sort through how to merge the two.</p>
<p>If your webserver is configured in a typical way, this .htaccess file will make the server look at every incoming request for a file ending in .html and check to see if there's an identically-named file ending in .php. If there is, it'll forward the user to the .php version. If there isn't, it'll serve up the original .html. Handy, huh? Have a look around your site (and via old links to it on other sites) and make sure that everything is working the way you expect it to.</p>
<p>Okay. It's taken us a while to get here, I admit. But things should get easier from here on out. You now have the ability to put PHP in your templates in order to generate obfuscated Javascript that will in turn obfuscate the comment script's location. The first thing to do is to change the comment script's name — after all, if the spammers already know its location, hiding that location won't do us much good.</p>
<p>Fire up your FTP client again and go to the directory where MT is installed. Use it to rename mt-comments.cgi to something hard to guess — for the purposes of this post, I'll pretend you chose <em>toms-replacement-mt-comments.cgi</em>, but you should select something unique and hard to guess. From the same directory, download <em>mt-config.cgi</em> and open it up in a text editor. Look for a line like this:</p>
<blockquote>
<pre class="literal-block">
CommentScript mt-comments.cgi
</pre>
</blockquote>
<div class="line-block">
<div class="line">If there is one, change <em>mt-comments.cgi</em> to</div>
<div class="line"><em>toms-replacement-mt-comments.cgi</em>. If there isn't one, add one:</div>
</div>
<blockquote>
<pre class="literal-block">
CommentScript toms-replacement-mt-comments.cgi
</pre>
</blockquote>
<p>Save the file and upload it over your old mt-config.cgi.</p>
<p>Congratulations: your comments are now broken! This is because all the comment forms on your site are now pointing at the script's old name. If you rebuilt the site they'd be automatically fixed (assuming your templates are properly written), since MT would swap in the new script name. But we don't want to do that just yet.</p>
<p>Instead, go into your MT Admin Panel's Templates section again. Go to the Archives tab and open the Individual Entry Archive template. Find the opening &lt;form&gt; tag for the comment form — in the default MT 3.2 templates, it looks like this:</p>
<blockquote>
<pre class="literal-block">
&lt;form method=&quot;post&quot; action=&quot;&lt;$MTCGIPath$&gt;&lt;$MTCommentScript$&gt;&quot; name=&quot;comments_form&quot; onsubmit=&quot;if (this.bakecookie.checked) rememberMe(this)&quot;&gt;
</pre>
</blockquote>
<p>Notice the action=&quot;&lt;$MTCGIPath$&gt;&lt;$MTCommentScript$&gt;&quot; line. This is what we're going to change, so that instead it's set by Javascript. In order to do that, we need to know how to manipulate the form in Javascript. As in the Bible/Hellboy comics, naming a thing gives you power over it: make sure that the <strong>name=&quot;comments_form&quot;</strong> portion of the &lt;form&gt; tag is present in your comment form (if <strong>name</strong> is there but set to something else, change the Javascript I've provided to use that name instead of <strong>comments_form</strong>).</p>
<p>Alright. Almost there. First, we need to point the form's action attribute at the wrong place, to lead spammers on a wild goose chase. That's easy enough to do — setting <strong>action=&quot;/&quot;</strong> should be sufficient. Now let's use some Javascript to set the form's action to the right thing. Right after the form's closing tag, add the following Javascript (I've included the &lt;form&gt; tag, too, to remind you where it goes. Don't paste this in as well — you only need one &lt;form&gt; tag.).</p>
<blockquote>
<pre class="literal-block">
&lt;form method=&quot;post&quot; action=&quot;/&quot; name=&quot;comments_form&quot; onsubmit=&quot;if (this.bakecookie.checked) rememberMe(this)&quot;&gt;
All of the form's HTML
&lt;/form&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
document.comments_form.action = '&lt;$MTCGIPath$&gt;&lt;$MTCommentScript$&gt;';
&lt;/script&gt;
</pre>
</blockquote>
<p>There! Your form's action is now somewhat hidden. If you'd like to hide it further (and make use of our exciting new PHP powers), just paste in the function that I wrote yesterday and use it to scramble the JS. It should end up looking like so:</p>
<blockquote>
<pre class="literal-block">
&lt;form method=&quot;post&quot; action=&quot;/&quot; name=&quot;comments_form&quot; onsubmit=&quot;if (this.bakecookie.checked) rememberMe(this)&quot;&gt;
All of the form's HTML
&lt;/form&gt;
&lt;?php
function ObfuscateJS($string_to_obfuscate, $number_of_variables=5, $max_chars_per_chunk=3)
{
// create some random variables that will be used by JS later on
$vars = array();
for($i=0;$i&lt;$number_of_variables;$i++)
$vars[] = rand();
// begin building the JS string
$js = &quot;if(typeof(Obfuscator)!='object')\n   var Obfuscator = new Object();\n&quot;;
for($i=0;$i&lt;sizeof($vars);$i++)
$js .= &quot;Obfuscator.v$i = &quot; . $vars[$i] . &quot;;\n&quot;;
$js .= &quot;eval(''&quot;;
while(strlen($string_to_obfuscate))
{
// figure out how many characters we're going to encode this time
$num_chars_this_time = rand(1,$max_chars_per_chunk);
// grab that chunk of characters
$this_chunk = str_replace(&quot;'&quot;,&quot;\\'&quot;,substr($string_to_obfuscate,0,$num_chars_this_time));
// remove that chunk from the string we're working on
$string_to_obfuscate = substr($string_to_obfuscate,$num_chars_this_time);
// create a plausible-seeming alternate, garbage chunk
$rotated_chunk = '';
for($i=0;$i&lt;strlen($this_chunk);$i++)
{
$thischar = substr($this_chunk,$i,1);
if((($thischar&gt;='A')&amp;&amp;($thischar&lt;='Z'))||(($thischar&gt;='a')&amp;&amp;($thischar&lt;='z')))
$thischar = chr(ord($thischar) + (((rand()%2)==1) ? 1 : -1));
$rotated_chunk .= $thischar;
}
// figure out which of our random variables we're going to use
$v1index = rand(0,sizeof($vars)-1);
$v2index = rand(0,sizeof($vars)-1);
// write out a short-form JS if-then that uses the random vars to decide its order
$js .= &quot; + ((Obfuscator.v$v1index &gt; Obfuscator.v$v2index) ? &quot; . (($vars[$v1index]&gt;$vars[$v2index]) ? &quot;'$this_chunk' : '$rotated_chunk')&quot; : &quot;'$rotated_chunk' : '$this_chunk')&quot;);
}
$js .= &quot;);\n&quot;;
return $js;
}
?&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
&lt;?php print ObfuscateJS(&quot;document.comments_form.action = '&lt;$MTCGIPath$&gt;&lt;$MTCommentScript$&gt;';&quot;);?&gt;
&lt;/script&gt;
</pre>
</blockquote>
<p>That's it! Well, okay, almost it: you'll have to make the same changes on any other templates where a comment form appears. [STRIKEOUT:The comment preview template springs to mind] (see update). If you have comment forms in any other places on your site, you'll have to hunt those down, too. But that shouldn't be too hard. Once you're done, rebuild your site again, verify that comments are working, and revel in your now somewhat-better-protected comment system.</p>
<p>Next: a way to rename <em>mt-comments.cgi</em> on an hourly basis. That'll show 'em.</p>
<p><strong>UPDATE:</strong> Forget what I said about the comment preview template needing to be changed in a similar way. What you should actually do is <strong>remove the action property entirely from the comment preview template's &lt;form&gt; tag</strong>. I explain why in <a class="reference external" href="/2007/01/26/fighting-movable-type-comment-spam-part-1/">part 3</a> which — hey! — is now available. How about that.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/26/fighting-movable-type-comment-spam-part-1/">fighting movable type comment spam - part 1</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-26T15:29:00-05:00">Friday, 26 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">F</div>
                </header>

                <div class="entry-content">
                    <p>There's recently been a lot of discussion on the Gothamist tech list about fighting comment spam, and it's prompted me to revisit and further develop some thoughts I had about the problem. Since I regularly get approached by friends who are hoping to eliminate their comment spam woes, I thought I'd write up my thoughts.</p>
<p>I should be clear, though, that the methods I'll be outlining aren't endorsed or in use by the folks at Gothamist. They've got their own tech staff who are working on the problem. And because of the -ist sites' high profiles, high traffic and multi-server architecture, some of what I'll be discussing wouldn't really be relevant or appropriate for them anyway. But if you've got your own installation of Movable Type running on a webhost where you can run PHP (most can), read on...</p>
<p>So how do the spammers work, and what are they trying to accomplish? Let's start with the second question. More than anything, they're trying to bump up their rank in search engines. By publishing comments on well-respected sites (in terms of non-spamminess), they can bump up their ranking and make more money. The <a class="reference external" href="http://en.wikipedia.org/wiki/Nofollow">nofollow</a> tag was supposed to fix all of this, but, well, it didn't. Perhaps the direct profit to be gained by idiots following their links is enough to compel them to do what they do; maybe they just don't bother to see whether nofollow is in place on the blogs they target. Either way, they seem pretty keen to keep doing what they're doing.</p>
<p>So they submit fake comments to sites in droves. They do this using automated scripts — it's faster and easier than making a web browser automatically do this stuff. Libraries like <a class="reference external" href="http://search.cpan.org/dist/WWW-Mechanize/">WWW::Mechanize</a> make it pretty straightforward.</p>
<p>In truth, it can be even simpler than WWW::Mechanize makes it. That's because blogging software works in uniform ways. When you load up a page with a comment form, the form's HTML tells your browser where to send the text of your comment. When you hit submit, the browser sends a specially-formed request (called an HTTP POST) to that URL. The script sitting at that URL — which, in MT's case, is called mt-comments.cgi by default — processes the request to post a comment.</p>
<p>Spammers simply need to find that URL and send requests to it — generally speaking, they don't even need to load up the comment form beforehand. Unfortunately, it's pretty easy to find these URLs: <a class="reference external" href="http://www.google.com/search?q=inurl%3A%22mt-comments.cgi%22">here's a google search</a> that returns a bunch (see anybody you recognize?). Some spammers will just <a class="reference external" href="http://www.google.com/search?q=%22powered%20by%20movable%20type%22">look for Movable Type sites</a> and send requests to common places where mt-comments.cgi might live. That's why one of the first spam-fighting techniques recommended by Six Apart is to <a class="reference external" href="http://www.sixapart.com/pronet/comment_spam#commentscript">rename mt-comments.cgi</a>.</p>
<p>Unfortunately, this doesn't last long. The new name of the script has to be available to your visitors' browsers in order for them to be able to leave comments, which means it's available to spammers, too. Here's how it's represented in the HTML:</p>
<blockquote>
<pre class="literal-block">
&lt;form name=&quot;commentform&quot; method=&quot;post&quot; action=&quot;http://domain.com/url/to/renamed-commentscript.cgi&quot;&gt;
</pre>
</blockquote>
<p>It's not hard to write something to find blogs on Technorati, visit them, grab the <em>action</em> attribute from the form and then start spamming it.</p>
<p>One simple method for avoiding this is to obfuscate the form's action. Libraries like WWW::Mechanize don't generally have a Javascript interpreter built in, so if you use Javascript to set the form's action it'll be unavailable to many spammer scripts (although as Six Apart <a class="reference external" href="http://www.sixapart.com/pronet/comment_spam#obfuscation">notes</a>, this method isn't foolproof). This means that your commenters will have to have at least a basic Javascript interpreter working in order to comment. But even my Sidekick's woefully crappy Javascript implementation can handle this sort of code:</p>
<blockquote>
<pre class="literal-block">
&lt;form name=&quot;commentform&quot; method=&quot;post&quot; action=&quot;/&quot;&gt;
body of the form
&lt;/form&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
document.commentform.action = 'http://domain.com/url/to/renamed-commentscript.cgi';
&lt;/script&gt;
</pre>
</blockquote>
<p>Of course, this kind of code is pretty easy to scrape, too. Some Javascript obfuscation might be in order:</p>
<blockquote>
<pre class="literal-block">
document.commentform.action = 'http://dom' + 'ain.com/ur' + 'l/to/rena' + 'med-comme' + 'ntscrip' + 't.cgi';
</pre>
</blockquote>
<p>But again, this is defeatible — and it doesn't even require a Javascript interpreter. Here's some Perl that'd do the trick, for example:</p>
<blockquote>
<pre class="literal-block">
#!/usr/bin/perl -w
use LWP::Simple;
my $html = get('http://some/poor/suckers/blog');
if($html =~ /\.action\s*=\s*(.*)$/im)
{
my $url = $1;
$url =~ s/['&quot;]\s*\+\s*['&quot;]//gx; # collapse the string
$url =~ s/(^['&quot;]\s*|['&quot;]\s*;?$)//gx; # clean up leading and trailing quotes
print &quot;$url\n&quot;;
}
</pre>
</blockquote>
<p>It might return a few false positives, but it'd do the trick. Spammers don't care much about false positives, anyway. HTTP POSTs are cheap.</p>
<p>But there are better ways to obfuscate Javascript. I wrote this one last night. There are many like it, but this one is mine (and would go after the form tag, as before). It's fairly pointless — the next step in the arms race is for the spammers to use a JS interpreter, which would beat it — but I felt like writing it, so I did. I think it's a pretty good one, as these things go.</p>
<p>(As a sidenote, I <em>really</em> like doing this sort of <a class="reference external" href="http://en.wikipedia.org/wiki/Metaprogramming">metaprogramming</a> — writing one program through the use of another. I'm not the type of geek who gets very excited about unit tests or polymorphism, but these kinds of tasks scratch my nerd-itch (exactly disgusting as it sounds) better than anything else. Ask me to write a Perl script that makes some PHP which generates Javascript to write a block of CSS and I'll be a happy boy.)</p>
<blockquote>
<pre class="literal-block">
&lt;?php
function ObfuscateJS($string_to_obfuscate, $number_of_variables=5, $max_chars_per_chunk=3)
{
// create some random variables that will be used by JS later on
$vars = array();
for($i=0;$i&lt;$number_of_variables;$i++)
$vars[] = rand();
// begin building the JS string
$js = &quot;if(typeof(Obfuscator)!='object')\n   var Obfuscator = new Object();\n&quot;;
for($i=0;$i&lt;sizeof($vars);$i++)
$js .= &quot;Obfuscator.v$i = &quot; . $vars[$i] . &quot;;\n&quot;;
$js .= &quot;eval(''&quot;;
while(strlen($string_to_obfuscate))
{
// figure out how many characters we're going to encode this time
$num_chars_this_time = rand(1,$max_chars_per_chunk);
// grab that chunk of characters
$this_chunk = str_replace(&quot;'&quot;,&quot;\\'&quot;,substr($string_to_obfuscate,0,$num_chars_this_time));
// remove that chunk from the string we're working on
$string_to_obfuscate = substr($string_to_obfuscate,$num_chars_this_time);
// create a plausible-seeming alternate, garbage chunk
$rotated_chunk = '';
for($i=0;$i&lt;strlen($this_chunk);$i++)
{
$thischar = substr($this_chunk,$i,1);
if((($thischar&gt;='A')&amp;&amp;($thischar&lt;='Z'))||(($thischar&gt;='a')&amp;&amp;($thischar&lt;='z')))
$thischar = chr(ord($thischar) + (((rand()%2)==1) ? 1 : -1));
$rotated_chunk .= $thischar;
}
// figure out which of our random variables we're going to use
$v1index = rand(0,sizeof($vars)-1);
$v2index = rand(0,sizeof($vars)-1);
// write out a short-form JS if-then that uses the random vars to decide its order
$js .= &quot; + ((Obfuscator.v$v1index &gt; Obfuscator.v$v2index) ? &quot; . (($vars[$v1index]&gt;$vars[$v2index]) ? &quot;'$this_chunk' : '$rotated_chunk')&quot; : &quot;'$rotated_chunk' : '$this_chunk')&quot;);
}
$js .= &quot;);\n&quot;;
return $js;
}
?&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
&lt;?php print ObfuscateJS(&quot;document.commentform.action = 'http://domain.com/url/to/renamed-commentscript.cgi';&quot;);?&gt;
&lt;/script&gt;
</pre>
</blockquote>
<p>I feel confident in saying that this can't be beaten with a mere regex (okay, <a class="reference external" href="http://books.slashdot.org/comments.pl?sid=143298&amp;cid=12015194">technically</a> it could — but not a regex that a spammer is likely to bother writing). You'd really need a full-on Javascript interpreter to disentangle the logic that this function produces. Unfortunately, the bad guys have those.</p>
<p>And that might be a good place to leave this off. In the next part I'll describe a method for renaming your comment script on a recurring, automated basis. Will that be foolproof, either? Well, no. But I think it'll raise the bar to a level where a spammer would have to expend considerable effort to keep up with your site's constantly moving target — something that he's unlikely to do.</p>
<p><strong>UPDATE:</strong> Parts <a class="reference external" href="/2007/01/26/fighting-movable-type-comment-spam-part-1/">2</a> and <a class="reference external" href="/2007/01/26/fighting-movable-type-comment-spam-part-1/">3</a> are now available.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/25/new-tools-for-internet-gossips/">new tools for internet gossips</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-25T12:13:00-05:00">Thursday, 25 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">N</div>
                </header>

                <div class="entry-content">
                    <p>I've begun screwing around with my attempt at a larger-buffer Hype Machine player, and became aware of HTTP dereferers in the process. Want to provide a link to a site, but not have the site's owner track it back to you? Then use one of these things.</p>
<p>Here's an example. First, the normal link, which will go to a page showing your HTTP referer information on the third line from the top:</p>
<blockquote>
<a class="reference external" href="http://c2.com/cgi/test/">http://c2.com/cgi/test/</a></blockquote>
<p>and now the same link, passed through a dereferer:</p>
<blockquote>
<a class="reference external" href="http://ultimod.org/?url=http://c2.com/cgi/test/">http://ultimod.org/?url=http://c2.com/cgi/test/</a></blockquote>
<p>Handy!</p>
<p>Of course, it's no help on my particular project — what I was actually looking for was a proxy that will spoof my HTTP referer string on the fly. Unfortunately, referer spoofing seems to be constrained to the realm of the browser plugin (it's commonly used to get free porn from protected sites), and even the excellent <a class="reference external" href="http://www.squid-cache.org/">Squid Proxy</a> doesn't seem to have this functionality (or at least it's not written up in an easy-to-find manner). But I think I can get by without this workaround.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/24/muslix64-speaks/">muslix64 speaks!</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-24T22:25:00-05:00">Wednesday, 24 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">M</div>
                </header>

                <div class="entry-content">
                    <p><a class="reference external" href="http://it.slashdot.org/article.pl?sid=07/01/24/2025235">Via Slashdot</a> I see that the man who cracked AACS has <a class="reference external" href="http://www.slyck.com/story1390.html">given an interview</a>. Stridently anti-DRM and humble to boot! Be still my heart.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/23/blu-ray-goes-down/">blu-ray goes down</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-23T18:11:00-05:00">Tuesday, 23 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">B</div>
                </header>

                <div class="entry-content">
                    <p>The Register <a class="reference external" href="http://www.theregister.co.uk/2007/01/23/blu-ray_drm_cracked/">reports</a> that the Blu-Ray format has been compromised by the same guy that <a class="reference external" href="/2007/01/03/more-on-the-aacs-exploit/">cracked HD-DVD's copy protection</a>.</p>
<p>This isn't a huge surprise, since both formats use the same underlying copy protection system. Still, it's good to see. Sony can't be trusted with media formats — their instinct is to lock consumers into them for the greater glory of Sony. I was worried that the downside to the HD-DVD crack would be greater enthusiasm for Blu-Ray. Now that both have been cracked, it's a fair fight once again.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/23/nonstandard-dot-net/">nonstandard dot net</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-23T17:03:00-05:00">Tuesday, 23 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">N</div>
                </header>

                <div class="entry-content">
                    <p>It's slightly ridiculous, but I have to confess that I've only recently discovered <a class="reference external" href="http://hype.non-standard.net">Hype Machine</a>. I've been aware of its existence for a while, but my previous attempts to use it always met with failure. The flash player didn't work right on my old laptop, and the HM iTunes link never has and still doesn't work properly for me. With those functions unavailable, I didn't see a compelling-enough reason to use the site.</p>
<p>But, spurred by references to it in an Unfogged thread, I gave it another shot, got the flash player to work, and found out that it's unbelievably great. There's one major downside, though: I seem to run into buffering problems with the player on a pretty regular basis. This is an infuriating way to listen to music, and particularly bad when I try to use the app through the Wii web browser (the console is hooked up to my stereo, after all — in theory, this could make for a great at-home radio station).</p>
<p>The HM flash player uses the open-source <a class="reference external" href="http://musicplayer.sourceforge.net/">XSPF Music Player</a>, so I'm optimistic that I'll be able to crack it open and implement some more stringent buffering. Unfortunately, my initial explorations revealed that the site uses some irritating redirects and is going to require me to do stupid things like fake my HTTP referer and user agent string. I realize that's gibberish to many of you, but trust me when I say that it's totally lame.</p>
<p>So it may be a little while before I really get my hands dirty with this project. In the meantime, I can't resist posting these two tracks, both of which I'm a little obsessed with (the latter despite not really liking CYHSY):</p>
<blockquote>
<div class="line-block">
<div class="line"><a class="reference external" href="http://www.traciedwards.com.nyud.net:8090/Dashboard.mp3">Modest Mouse – Dashboard</a></div>
<div class="line"><a class="reference external" href="http://www.knkisser.net.nyud.net:8090/streaming.knkisser.net/03%20Mama,%20Won%27t%20You%20Keep%20Those%20Castles%20In%20The%20Air%20&amp;%20Burning_%201.mp3">Clap Your Hands Say Yeah – Mama, Won't You Keep Those Castles In The Air &amp; Burning?</a></div>
</div>
</blockquote>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/23/in-the-same-issue/">in the same issue</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-23T16:11:00-05:00">Tuesday, 23 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">I</div>
                </header>

                <div class="entry-content">
                    <p>I wouldn't normally beat a dead horse like this, but this is not only a subhead, but from the same issue as the <a class="reference external" href="/2007/01/18/get-got/">last quote I bitched about</a> (the issue's been lying around the office, and I've been slowly flipping through it). The prominence of this apparent typo is giving me pause, making me wonder if either a) I'm badly confused about the proper use of the verb &quot;got&quot;; or b) this reflects some new and wholly intentional editorial policy at Time. Anyway: huh.</p>
<p><img alt="another typo in the same issue of time. I think." class="center" src="/static/2007/01/23/20070123_timetypo.jpg" style="width: 500px; height: 138px;" /></p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/22/almost-famous/">almost famous</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-22T12:21:00-05:00">Monday, 22 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">A</div>
                </header>

                <div class="entry-content">
                    <p>I got mentioned in a <a class="reference external" href="http://www.msnbc.msn.com/id/16720747/site/newsweek/">Newsweek piece about the Wii</a>, thanks to a connection of <a class="reference external" href="http://cruelsommer.blogspot.com">Sommer</a>'s (she's quoted in the article). Yay media conspiracy!</p>
<p><strong>UPDATE:</strong> I got some quotes in the author's <a class="reference external" href="http://ncroal.talk.newsweek.com/default.asp?item=448169">associated blog entry</a>.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/21/snow-makes-everything-look-dramatic/">snow makes everything look dramatic</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-21T22:52:00-05:00">Sunday, 21 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">S</div>
                </header>

                <div class="entry-content">
                    <p><a class="reference external image-reference" href="http://www.flickr.com/photos/sbma44/365325602/"><img alt="shiloh from behind" class="center" src="http://farm1.static.flickr.com/131/365325602_3db16a121a.jpg" /></a></p>
<p><strong>UPDATE:</strong> Here's <a class="reference external" href="http://www.dcist.com/archives/2005/11/08/development_spa_1.php">the context</a> behind the graffiti in the shot, for anyone reading who isn't aware of Shaw businesses' ongoing clashes with Shiloh Baptist Church.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/21/more-crime/">more crime!</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-21T14:05:00-05:00">Sunday, 21 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">M</div>
                </header>

                <div class="entry-content">
                    <p>I really don't think I did, but I <em>was</em> out drinking that night, so I suppose I should just go ahead and ask. Michael, Matt, Ezra, Sam, Sarah and everyone else who was out on Friday: did we get drunk at Townhouse and then go grocery shopping in Michigan? Normally I wouldn't ask, but Bank of America sent me an email on Saturday morning wondering about these charges:</p>
<p><img alt="some jerk used my card at kroger" class="center" src="/static/2007/01/21/20070117_kroger.gif" style="width: 481px; height: 69px;" /></p>
<p>I've gone ahead and ordered a new card, but man oh man will I ever feel sheepish if I find a cancelled and beer-stained Kroger receipt lying around the apartment a week from now.</p>
<p>More seriously, this has been surprisingly easy to deal with — I had the whole thing wrapped up and a temporary ATM card in hand within about an hour of getting the initial alert email. It's a real credit to Bank of America, I think, and even more noteworthy when you consider how essentially evil an organization they are.</p>
<p>The obvious question to ask is how the crook got my number at all. I haven't been patronizing internet retailers particularly much in the last week or two, but I did make a few suspect purchases:</p>
<ul class="simple">
<li>A while ago I ordered something from <a class="reference external" href="http://www.sparkfun.com">SparkFun Electronics</a>. But those guys are great, and I've ordered from them once before. I don't think it could be them.</li>
<li>I bought a new cellphone battery from a somewhat shady Ebay retailed not too long ago. But I made the payment through PayPal (or Yahoo stores; I forget which), so I kind of doubt it was them.</li>
<li>The final and most troubling possibility is the Wii: I bought Super Mario 64 about an hour before leaving the house on Friday night, and did so by using the Wii's integrated store. But surely Nintendo processes payments securely, right? Right?</li>
</ul>
<p>My childlike faith in the internet makes it hard for me to believe that it's any of these candidates. I haven't gone through my back statements to check for earlier fraud, so it could have happened before these three candidates — I just don't know. There's also a non-electronic possibility: it could've been stolen when I opened a tab at DC9 on Thursday night, too. I did end up with a suspiciously low bar tab.</p>
<p>Anyway, it's all very mysterious, but for now the danger seems to have passed.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/21/crime/">crime!</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-21T13:11:00-05:00">Sunday, 21 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">C</div>
                </header>

                <div class="entry-content">
                    <p><a class="reference external image-reference" href="http://www.flickr.com/photos/sbma44/364733672/"><img alt="Crime!" class="center" src="http://farm1.static.flickr.com/181/364733672_6d9b5671ed.jpg" /></a></p>
<p>Today started off on an exciting note, with police sirens screeching and officers screaming at a couple of gentlemen about 150 feet from my bedroom window. &quot;Get down and put your hands up!&quot; seemed to be the core message, but the officers tried out a number of different variations (consistent delivery, though). My real camera's battery had run down, so this is the best picture I could manage; you'll have to take my word for the fact that it was kind of awesome (or at least loud).</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/18/tlrx/">TLRx</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-18T17:13:00-05:00">Thursday, 18 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">T</div>
                </header>

                <div class="entry-content">
                    <p>I almost forgot: be sure to check out the <a class="reference external" href="http://www.youaintnopicasso.com/2007/01/16/ted-leorx-the-sons-of-cain/">new Ted Leo track over at YANP</a>. <em>Shake The Sheets</em> was a little disappointing to me, but this track takes me right back to <a class="reference external" href="http://www.zunta.org/blog/archives/2004/07/02/day_by_day/">2004</a>. It reminds me of watching Ted carom around the stage at Fort Reno, contained only by the venue's curfew, the peacefulness of the summer night and whatever little constraint his curly guitar cord afforded.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/18/get-got/">get got</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-18T00:14:00-05:00">Thursday, 18 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">G</div>
                </header>

                <div class="entry-content">
                    <p>Why yes, I <em>do</em> enjoy being a small-minded jerk:</p>
<p><a class="reference external image-reference" href="http://www.flickr.com/photos/sbma44/361088252/"><img alt="typo in Time" class="center" src="/static/2007/01/18/time_typo.jpg" style="width: 500px; height: 629px;" /></a></p>
<p>I mostly just like this because it makes me feel better about the many times when a typo of mine has made it onto DCist. Also, it provided a handy excuse to put Photoshop CS3 through the paces (Review: it works! But it doesn't use the right style of brush cursor when you're zoomed in.).</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/17/asciimation/">asciimation</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-17T21:12:00-05:00">Wednesday, 17 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">A</div>
                </header>

                <div class="entry-content">
                    <p>Well, that was kind of a waste of time. But it was fun, and I suppose I learned a few new things.</p>
<p>I decided, for no particular reason, to try turning a video clip into an ascii art version of itself. In theory, this can be [STRIKEOUT:easily] accomplished via a number of different open source projects:</p>
<ul class="simple">
<li><a class="reference external" href="http://handbrake.m0k.org/">Handbrake</a> rips the video from the DVD</li>
<li><a class="reference external" href="http://ffmpeg.mplayerhq.hu/">ffmpeg</a> pulls the video frames out, one-by-one, and turns them into JPEGs</li>
<li><a class="reference external" href="http://jp2a.sourceforge.net/">jp2a</a> turns each frame into an HTML, ASCIIfied version of itself</li>
<li>Something turns the resulting HTML back into a graphic file. I would have liked to use <a class="reference external" href="http://khtml2png.sourceforge.net/">khtml2png</a>, but I couldn't get it to work. I tried a few other things, but none of them worked, either. I ended up using <a class="reference external" href="http://www.paulhammond.org/webkit2png/">webkit2png</a>. But it was still a pain in the ass to get working, and it only works on OS X. Bah!</li>
<li>Used the convert tool from the <a class="reference external" href="http://www.imagemagick.org/">ImageMagick</a> package to crop and convert the file back to a JPEG.</li>
<li>ffmpeg puts everything back together</li>
</ul>
<p>All of the above occurs in different phases on my mac and a linux machine, and various parts are held together by some Perl.</p>
<p>I chose the opening scene of <em>The Big Lebowski</em> for my test, but it ended up being a bad choice: I thought that the closeups of all the bowling paraphenalia would be easy to recognize, but something with a lot of human faces might've been a better idea. Also, ffmpeg seems to fail at putting audio back onto Flash video — I'm not sure what that's all about, since I was able to add the audio back when trying it with different formats. If anybody's got any idea what's going on, let me know.</p>
<p>At any rate, here are the fruits of my labor. It's somewhat neat, but probably not something I'll waste a lot more time on. The effect would probably look a lot better on fullscreen, uncompressed video — but that's not really my arena. For what it's worth, the effect works best during the scenes in the middle of the clip.</p>
<p>Oh! The embedded flash video player I'm using is from <a class="reference external" href="http://www.jeroenwijering.com/?item=Flash_Video_Player">here</a>, and seems to be fairly slick. Also: if you can't see the video, it's because I'm hosting it through the coral CDN. If your firewall at work doesn't let port 8090 through, you're SOL. Don't worry: like I said, it's not exactly life-changing.</p>
<p>I think I'd probably get much better results with a cartoon, especially if I did some preprocessing to crank up the video's saturation and brightness before feeding it to jp2a. But until I've got a clean linux system (or a genuine need) I don't think I'll bother — the khtml2png solution is the right way to do screencaps. webkit2png not only requires me to pull all the files onto a mac, it makes the system's dock undulate in an oddly sensual manner as the related icon pops in and out of it for every file that's processed. It's disturbing.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/16/its-real/">it's real</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-16T17:55:00-05:00">Tuesday, 16 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">I</div>
                </header>

                <div class="entry-content">
                    <p>Ars Technica <a class="reference external" href="http://arstechnica.com/news.ars/post/20070115-8622.html">reports</a> that the first HD-DVD movie rip has shown up on the Bittorrent networks. It's <em>Serenity</em>, the same disc used in the AACS-cracking proof of concept that I discussed at length last week. There's a very small chance that <em>Serenity's</em> key was obtained through non-technical means, and that the breach is therefore confined to that disc. But I wouldn't bet on it.</p>
<p>So this makes it official: the genie is out of the bottle. What's more, it now looks like the use of PowerDVD in the the original cracker's demonstration video may have been a red herring. If that's the case, then the HD-DVD consortium is going to be scrambling to figure out what the vulnerability actually is so that they can revoke the appropriate key (assuming that key revocation can fix the vulnerability).</p>
<p>The HD-DVD folks may yet recover from this. But until they do, DRM on the HD-DVD format should be considered dead.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/16/defending-my-honor/">defending my honor</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-16T14:37:00-05:00">Tuesday, 16 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">D</div>
                </header>

                <div class="entry-content">
                    <p>It's been two years, but scholars are still grappling with my revolutionary (and not at all self-serving) theory about the inevitability of women finding videogame players <a class="reference external" href="http://www.zunta.org/blog/archives/2005/03/28/the_geek_shall/">totally hot</a>. Or <a class="reference external" href="http://sueandnotu.blogspot.com/2007/01/esprit-descalier.html">Susan is</a>, anyway. That's one entire scholar! I think that's pretty good.</p>
<p>If you missed the opportunity to call me an idiot back in March '05, here's your chance to make up for lost time: grab some journal references (any will do) and head on over to Sue's <a class="reference external" href="http://sueandnotu.blogspot.com/2007/01/esprit-descalier.html">comments section</a>.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/16/retreat-not-surrender/">retreat, not surrender</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-16T14:24:00-05:00">Tuesday, 16 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">R</div>
                </header>

                <div class="entry-content">
                    <p>Well, I'm back. The retreat was fun, and surprisingly useful. I'm more hostile than most when it comes to what I call team-ology — the sort of unscientific time-wasters that arise when someone takes an ex-CEO's platitudes about proactivity (or whatever else) a little too seriously. A surprisingly large number of people can be convinced that a set of <a class="reference external" href="http://www.successories.com/index.cfm/fuseaction/dir_product.brand_title_sku/product_group_id/e429709c-250d-488d-a7bb-90f537107324/brand_id/e1624976-0a99-4882-a357-9fa2471c0b4b/product_title_id/f045815b-2367-4b4a-86fd-70bd3f8012b2/product_id/6818c9b9-d30d-4419-bb21-43bcafec1d9d/page_number/1/page_sort/name/product_theme_id/e5c78b41-e1d4-4e31-9b7b-736baa0eb698/Above-Beyond.cfm">successories-style</a> cliches nested in a simply-made-up dependency tree counts as a theory of something. Ropes courses and trust falls are infinitely more useful than that sort of bullshit.</p>
<p>Fortunately there was surprisingly little of that stuff on the ED retreat. Most of the exercises we did were useful or led to useful conversations. Still, for sheer team-building efficacy nothing can compete with drinking beer and playing DDR:</p>
<p>We had almost no internet access at the site, so I've been out of touch. That's led to me being a bad blogger, contenting myself over the weekend with adding useless <a class="reference external" href="http://kailashnadh.name/ducksoup/">Technorati widgets</a> and archives to this site instead of content. I can't say that the trend of pointless but technically interesting effort is going to end anytime soon — here's a teaser for the latest <a class="reference external" href="/2006/12/08/be-your-own-aronofsky/">useless thing</a> that I'm trying to do with video:</p>
<p><img alt="ascii art" class="center" src="/static/2007/01/16/_20thcenturyascii.jpg" style="width: 439px; height: 283px;" /></p>
<p>But I realize that I've been putting my few long-suffering readers through a lot of technical mumbo jumbo lately. I promise I'll try to reengage the non-robotic part of my brain sometime soon.</p>
<p><strong>UPDATE:</strong> Here's <a class="reference external" href="http://blogs.nbcuni.com/DwightsBlog/2006/11/how_to_work_well_with_others.php">a workplace philosophy</a> that I wholeheartedly endorse (see final paragraph).</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/10/dont-fight-the-future/">don't fight the future</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-10T14:28:00-05:00">Wednesday, 10 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">D</div>
                </header>

                <div class="entry-content">
                    <p><a class="reference external" href="http://www.informationleafblower.com">Kyle</a> was at the Post blogger summit last night, too, but he came away with some <a class="reference external" href="http://www.informationleafblower.com/blog/archives/2007/01/to_the_summitan.html">different impressions</a>:</p>
<blockquote>
<div class="line-block">
<div class="line">All the tech geeks in the room started tearing The Post's new feature apart (even though it's still in development and not online yet!) because it didn't have things like geocoding.</div>
<div class="line">... Does anyone give a shit about geocoding? I certainly don't. Do I need to know what blogs about U Street are actually written in apartments on U Street? Seems like a tool for stalkers more than anything else.</div>
</div>
</blockquote>
<p>Ah, but you <em>should</em> give a shit about it, Kyle, because it's <strong>great</strong>. Or at least it has the potential to be.</p>
<p>The point of assigning a precise latitude and longitude to a blog isn't to provide useless data like how far from U Street someone lives. It's to provide an objective, universal way of determining location.</p>
<p>Yes, the Post will split up its list of blogs by neighborhood. That'll be useful enough within the Post site. But what about when you want another system to talk to it? Does System X use the same boundaries for Shaw as the Post does? Do they call the area near the Verizon Center Chinatown or Gallery Place or both? Are any neighborhoods divided into north/south or east/west distinctions, and are those divisions the same across the platforms? Do either of them recognize <a class="reference external" href="http://www.dcist.com/archives/2005/12/09/midwho.php">Midcity</a> as a real area?</p>
<p>Latitude and longitude are a language that every system can speak. Without them, you have to write code to account for the differences between each system — code that will break as soon as someone decides to make a minor change to their categorization system.</p>
<p>Hopefully you're convinced that geocoding is important for system interoperability. But why is interoperability important? Well, because the coming location-aware future is going to be really, really cool. Imagine that there's a fire in Columbia Heights, and bloggers located near it are instantly emailed and asked for any impressions they might have. Or think about <a class="reference external" href="http://www.zillow.com/">Zillow</a> providing links to blogs in a property's neighborhood. Or a geocoded story on washingtonpost.com featuring links to writers in the neighborhood. Or a survey of bloggers across the city asking how well a particular city service is delivered in their neighborhood. You might be able to accomplish some of these tasks with a combination of Google and patience, but geocoding would make them all simpler, faster and more reliable.</p>
<p>In short, geocoding is something that non-geeks don't have to worry about, but shouldn't belittle or fight. It's going to allow my fellow dorks to deliver a lot of fairly amazing applications. Geocoded information may not be interesting to humans in its raw form — I think we're all pretty sick of Google Maps mashups by now — but the things that computers can do with it are downright fascinating.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/10/yet-another-new-header/">yet another new header</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-10T10:32:00-05:00">Wednesday, 10 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">Y</div>
                </header>

                <div class="entry-content">
                    <p>This one's more <a class="reference external" href="http://en.wikipedia.org/wiki/Jonestown_Massacre">topical</a>: I'm heading off to the wilds of West Virginia with the rest of EchoDitto from this evening through Saturday for a company retreat. Will there be trust falls? Ropes courses? Or will we just cling desperately to each other as we erupt in sobbing emotional catharses? For the moment, it remains unclear. But I'm bringing the spare Wiimote.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/01/10/new-header/">new header</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-01-10T01:57:00-05:00">Wednesday, 10 January 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">N</div>
                </header>

                <div class="entry-content">
                    <p>And I agree, it's pretty ugly. But the Christmas tree came down over the weekend, so it was time to lose the ornament-themed ornamentation. I'll try to come up with something a little more pleasant-looking soon.</p>

                </div>
            </article>
        </div>
    </div>

    <!-- Archive by Year Section -->

</div>
    </div>

    <footer id="typology-footer" class="typology-footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy;  Tom Lee</p>
                <!-- <p>Powered by <a href="https://getpelican.com/" target="_blank" rel="noopener">Pelican</a></p> -->
            </div>
        </div>
    </footer>
</body>
</html>