<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tom Lee</title>


    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Domine:wght@400;600;700&family=Josefin+Sans:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Theme CSS -->
    <link rel="stylesheet" href="https://tomlee.wtf/theme/css/style.css">

    <link href="https://tomlee.wtf/feed.xml" type="application/atom+xml" rel="alternate" title="Tom Lee Atom Feed" />

    <script data-host="https://app.microanalytics.io" data-dnt="false" src="https://app.microanalytics.io/js/script.js" id="ZwSg9rf6GA" async defer></script>

</head>

<body>
    <header id="typology-header" class="typology-header">
        <div class="container">
            <div class="header-content">
                <div class="site-branding">
                    <h1 class="site-title"><a href="https://tomlee.wtf/">Tom Lee</a></h1>
                </div>
                <nav class="main-nav">
                    <ul>
                        <!-- <li><a href="https://tomlee.wtf/">Home</a></li>
                        <li><a href="https://tomlee.wtf/about/">About</a></li>
                        <li><a href="https://tomlee.wtf/projects/">Projects</a></li> -->
                        <li class="social-icon"><a href="https://github.com/sbma44" target="_blank" rel="noopener" title="GitHub" aria-label="GitHub">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                        </a></li>
                        <li class="social-icon"><a href="https://x.com/tjl" target="_blank" rel="noopener" title="Twitter" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg>
                        </a></li>
                        <li class="social-icon"><a href="https://bsky.app/profile/tjl.bsky.social" target="_blank" rel="noopener" title="Bluesky" aria-label="Bluesky">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8z"/></svg>
                        </a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <div class="typology-fake-bg">
<div class="typology-section">

    <div class="section-content">
        <div class="typology-posts">
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/09/17/like-having-a-disease-named-after-you/">like having a disease named after you</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-09-17T14:28:00-04:00">Monday, 17 September 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">L</div>
                </header>

                <div class="entry-content">
                    <p><a class="reference external" href="http://www.drupal.org">Drupal</a> is excellent software, PHP-based though it may be. So there's a little thrill of excitement that occurs when you find what appears to be a genuine bug in a high-profile part of it. But that thrill is tempered when you realize that a) your clients don't care about the exotic nature of the problem, as they have already launched their website against your recommendation and b) all of the people who could help you appear to currently be on <a class="reference external" href="http://barcelona2007.drupalcon.org/">planes to Barcelona</a>.</p>
<p>So I reproduce my plaintive IRC begging here not because I think it's likely to help (I know some Drupal hax0rs extraordinaire, but I don't think they're subscribed). No, this is just me crying out to the universe.</p>
<blockquote>
<div class="line-block">
<div class="line">I've got a really weird issue with Views and profile fields. Essentially, a profile-heavy view intermittently stops returning any records. Resaving the view typically resolves the problem -- for a while. I haven't been able to determine the event that causes the view to break again, but it always does. Looking at the results from views_build_view('queries',..), it's clear that sometimes the module is forgetting to repeatedly join the query against profile_values.</div>
<div class="line">for example, here's how the query looks when it's working: <a class="reference external" href="http://papernapkin.org/pastebin/view/2725">http://papernapkin.org/pastebin/view/2725</a></div>
<div class="line">and here's how it looks when it's broken: <a class="reference external" href="http://papernapkin.org/pastebin/view/2726">http://papernapkin.org/pastebin/view/2726</a></div>
<div class="line">in hook_views_query_alter this manifests itself as abbreviated 'tables' and 'tablequeue' properties in the query object. but adding code to that hook to manually alter those properties to the known-to-be-good version doesn't resolve the problem. so I'm at a loss. any ideas would be greatly appreciated.</div>
</div>
</blockquote>
<p>It looks like I'll be dumping views and rewriting this page manually. Which, in turn, means that you can expect bitching about a SQL injection problem in this space in two or three days...</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/09/17/barely-returned/">barely returned</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-09-17T10:59:00-04:00">Monday, 17 September 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">B</div>
                </header>

                <div class="entry-content">
                    <p>Well, it was a beautiful weekend in Cazenovia — a fun wedding, a relaxing and productive couple of days after, and a nice time all around. Unfortunately, it seems that during the first twenty-some years of my life I was unknowingly using up my lifetime allotment of air travel karma. I can no longer set foot in an airport without some sort of travel apocalypse unfolding. If I checked bags I'd probably be dead by now.</p>
<p>Otherwise: work, busy, etc. I really need some sort of system to crawl out from under September. <a class="reference external" href="http://www.43folders.com/izero/">Inbox Zero</a> might be a little ambitious, though. For now I'd settle for RSS Reader One Thousand.</p>
<p>I don't mean to just whine, though — things aren't all bleak. For instance, I'm continuing to make strides in the <a class="reference external" href="http://en.wikipedia.org/wiki/Final_fantasy_vi">struggle for the fair treatment of Espers</a>. In fact, let me take this opportunity to announce that I believe we've reached an accord with the Empire! It's a momentous achievement, to be sure.</p>
<p>Admittedly, there are some alarmists on the internet who warn of an impending ecological disaster that could result in a floating and/or abruptly-not-floating continent. However, I remain confident that such doomsaying is wholly unfounded (although the issue does merit more study).</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/09/12/more-like-jerksmith-see-i-know-comedy/">more like JERKsmith! (see, <em>I</em> know comedy)</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-09-12T11:29:00-04:00">Wednesday, 12 September 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">M</div>
                </header>

                <div class="entry-content">
                    <p>The Post's got <a class="reference external" href="http://www.washingtonpost.com/wp-dyn/content/article/2007/09/11/AR2007091102087.html">a story</a> that might be of interest to my fellow UVA alums: apparently one of the school paper's idiot cartoonists has gotten himself fired over an offensive cartoon. It took some hunting, but I managed to find the cartoon in question, which comes from a comic strip called <em>Quirksmith</em>:</p>
<p><img alt="Quirksmith Ethiopian Food Fight Cartoon" class="center" src="/static/2007/09/12/quirksmith_ethiopian_food_fight.jpg" style="width: 400px; height: 133px;" /></p>
<p>As you might expect, the most notable thing about the comic is its overwhelming lack of funniness. The joke's confused in a way that's difficult to explain — rather than being smartly flipped to hilarious effect, the conceptual setup simply lolls off to the side, like the top layer slumping off of an <a class="reference external" href="http://pygmalioninablanket.blogspot.com/2007/09/all-we-do-is-cakes.html">overengineered cake</a>.</p>
<p>It's also not very offensive, I don't think (said the white, middle-class, first-world blogger). The figures have a primitive look, but not one that's easy to unequivocally define as racist (Thinking about this more, I've changed my mind — obviously implying that all Ethiopians live in primitive conditions is pretty racist; my initial scan was for physical caricature, which isn't present. But the Post article quotes the aggrieved parties as complaining about the famine-related sentiment rather than the pictoral representation, so I think it's safe to press onward regardless...). Maybe I'm being overly and/or insufficiently generous, but I doubt the cartoonist is even aware that there's currently a famine (or near-famine) occurring in Ethiopia.</p>
<p>The Post article points out that the guy is 22 years old — that's close enough to my age that I bet he heard the same Ethiopia-targeting &quot;yo mama so skinny&quot;-style jokes that I did in elementary school. In this case Ethiopia is just being lazily used as a stand-in for the tragically un-pluralizable Nicole Richie.</p>
<p>But he must have arrived on the tail-end of this lame playground schtick, or perhaps heard it from an older sibling. So it's not entirely surprising that various similarly-aged student groups would see the strip as a mean-spirited non sequitur rather than merely a lame riff on a decades-old joke. Still, calling for the author's head over this is strikes me as playing into the hands of the David Horowitzes of the world.</p>
<p>On the other hand, I think the strip has been somewhat comedically redeemed by the controversy, if only because the Post writeup includes the following:</p>
<blockquote>
<div class="line-block">
<div class="line">Robert Mankoff, cartoon editor for the New Yorker, which specializes in drawings that mock human foibles, looked at Woolard's cartoon after a reporter e-mailed it to him.</div>
<div class="line">...</div>
<div class="line">&quot;The New Yorker magazine would not have published it,&quot; Mankoff said.</div>
</div>
</blockquote>
<p>Surprising, I know. You'd think it would be a shoo-in, given that it's both a) so inscrutable as to imply non-existent depth and b) not at all funny. Unfortunately it contains no French puns, so the magazine had to politely decline the submission.</p>
<p>Of course, none of the preceding should be taken as a defense of the <em>Quirksmith</em> author. Like nearly all Cav Daily cartoonists, he deserves the worst that the universe can come up with. This isn't the first time he's fed indefensible red meat to ideologues, either; apparently the following cartoon actually made it onto <em>The O'Reilly Factor</em>:</p>
<p><img alt="another stupid quirksmith cartoon" class="center" src="/static/2007/09/12/quirksmith060824.png" style="width: 500px; height: 165px;" /></p>
<p>Ugh.</p>
<p>I shouldn't end on a down note, though. I can't compete with Jon, who tells me that nearly-perfect <a class="reference external" href="http://pbfcomics.com">Perry Bible Fellowship</a> ran in the paper at Syracuse while he was in school. But the Cavalier Daily did have one or two good comics while I was an undergrad. My favorite was <em>Shallow Grave</em>, a bitterly funny strip drawn by a guy named <a class="reference external" href="http://polyn.com">Sean Polyn</a>, who happened to work in the same lab where I spent some time.</p>
<p>Sean's too busy being a neuroscientist to draw strips these days, but he's still got a <a class="reference external" href="http://polyn.com/strips.html">bunch of em online</a>. Here are a few of my favorites:</p>
<ul class="simple">
<li><a class="reference external" href="http://polyn.com/struct/hitler.html">Hitler clones</a></li>
<li><a class="reference external" href="http://polyn.com/strips/leapinliz.jpg">True tales of the Lunar Patrol!</a></li>
<li><a class="reference external" href="http://polyn.com/strips/strip-4.html">Buried alive</a></li>
<li><a class="reference external" href="http://polyn.com/struct/choke.html">Choke-cola</a> (I don't know why I like [STRIKEOUT:you] this but I do)</li>
</ul>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/09/12/blog-blog-blog/">blog blog blog</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-09-12T09:34:00-04:00">Wednesday, 12 September 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">B</div>
                </header>

                <div class="entry-content">
                    <p><a class="reference external" href="http://online.wsj.com/public/article/SB118945161322222870-bXYxKiJLpOaWB_OQ3i8yGp8dqwM_20071012.html?mod=tff_main_tff_top">Nice job, guys</a>. The lack of stipple portraits of Sommer is admittedly dispiriting, but otherwise it seems pretty alright.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/09/11/iron-man-justified/">iron man justified</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-09-11T17:15:00-04:00">Tuesday, 11 September 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">I</div>
                </header>

                <div class="entry-content">
                    <p><a class="reference external" href="/2007/09/10/asdfr111/#comment-12993">Some</a> <a class="reference external" href="http://pygmalioninablanket.blogspot.com/2007/09/131.html">questions</a> have been raised about my and <a class="reference external" href="http://blogstretch.blogspot.com/2007/09/zomg.html">Amanda's</a> recent <em>Iron Man</em> advocacy. Allow me to offer a slightly more nuanced case <a class="reference external" href="/2007/09/10/asdfr111/">than I did last night</a>:</p>
<ol class="arabic simple">
<li>First, as the Nabob points out, there's the Robert Downey Jr. factor. Consider the recent awesomeness of comic book movies. Now consider that the title of Greatest Living Superhero Actor is currently held by either Wesley Snipes or Christopher Reeve, depending on your personal taste and how carefully you read the criteria for winning the aforementioned title.
Robert Downey Jr. has the sort of genuine charisma that can only be learned by having to repeatedly explain to strangers why they just found you sleeping in their house. It comes through in his performances. In the preview his delivery of the script's lame jokes actually makes them seem sort of funny! Ask yourself: what if Sir Laurence Olivier had been cast in a role involving repulsor beams? What would cinema look like today? My guess: explodier.</li>
<li>Although I didn't think it was as great as <a class="reference external" href="http://www.movering.com">certain other people</a> did, <em>Transformers</em> did usher in a major new cinematic innovation: the &quot;how does the protagonist fare against U.S. military hardware?&quot; scene. It should soon take its place next to &quot;mistaken identity&quot;, &quot;<em>Rocky</em>-style training montage&quot;, &quot;going on two dates at once&quot;, and the two or three other dramatic conventions that screenwriters have at their disposal. In the preview, Iron Man, like, totally dusts some fighter jets, and you can tell the pilots are all &quot;Maaan&quot; but also have to admit that it was pretty sweet. I agree with those pilots, but my enthusiasm is unchecked by professional considerations.</li>
<li>Finally, the preview implies that the movie retells the Iron Man origin story more or less faithfully. Even though Iron Man is a second-string superhero, most nerds are well-acquainted with and attached to his origin story. This is because all subsequent Iron Man stories have kind of sucked, prompting the creators to revisit the origin story on a regular basis.
I don't think that deviation from the canon would have much of an effect on my enjoyment of the movie. But hearing nerds whine about it for the next eight months <em>would</em> have an effect on my enjoyment of the internet. So thanks in advance for sticking to the source text, Mr. Favreau.</li>
</ol>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/09/10/asdfr111/">ASDF#R#&#64;%&#64;111</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-09-10T23:14:00-04:00">Monday, 10 September 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">A</div>
                </header>

                <div class="entry-content">
                    <p><a class="reference external" href="http://www.apple.com/trailers/paramount/ironman/">HOLY FUCK IRONMAN</a></p>
<p>(I don't even really like Iron Man comics)</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/09/10/dorkbot-dc/">dorkbot DC</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-09-10T22:58:00-04:00">Monday, 10 September 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">D</div>
                </header>

                <div class="entry-content">
                    <p>I finally made it to a meeting. In brief: loquacious audience members ignorant of the limits of technology; presenters that were, if anything, too aware of them. But the disconnected dynamic was partly the fault of <a class="reference external" href="http://www.koshlandscience.org/visitor/dandp.jsp">the space</a>, which — despite providing a &quot;WONDERS OF SCIENCE&quot; banner above the podium — didn't prove to be a particularly great setting.</p>
<p>Still, there were some interesting projects, I got pointed toward some <a class="reference external" href="http://en.wikipedia.org/wiki/Simulated_annealing">interesting</a> <a class="reference external" href="http://www.lantronix.com/device-networking/embedded-device-servers/xport.html">things</a>, and I'll be going back.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/09/10/the-house-is-full-of-love/">the house is full of love</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-09-10T11:06:00-04:00">Monday, 10 September 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">T</div>
                </header>

                <div class="entry-content">
                    <p>...now that Charles is gone. He's spending the week celebrating <a class="reference external" href="http://www.darrenhiggins.com/">Darren</a> and Emilie's love over in Belgium, a country about which I know disappointingly few hilarious stereotypes. The happy couple is getting married in a castle, and apparently Charles has been drafted into the ceremony. I believe he'll be operating the portcullis.</p>
<p>His departure has left the house with too few people and too many options: I can't decide what to make filthy first. Last night's unexpected bout of burrito-making caprice left some promising food spills around the kitchen, but I ultimately decided that was an unambitious way to begin and cleaned them up. For now I've settled for leaving a pile of sweaty gym clothes on the couch — but this is merely the foundation for the work to come.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/09/05/tech-things/">tech things!</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-09-05T10:55:00-04:00">Wednesday, 05 September 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">T</div>
                </header>

                <div class="entry-content">
                    <p>My apologies, internet. I was being a pretty good blogger for a while there, but this week's looking rough. I'd desperately like to write a convoluted apologia on behalf of Bear Grylls, or explain how a pigeon almost killed me, or emphatically agree that <a class="reference external" href="http://pygmalioninablanket.blogspot.com/2007/08/finally-real-summer-movie.html">dragons are awesome</a>. But for now all that will have to wait. Instead, please accept some bulleted items of a technical nature.</p>
<ul>
<li><p class="first">Item the first! I received my <a class="reference external" href="http://eng.supercard.cn/">SuperCard</a> in the mail at long last. I'll explain the nefarious things it allows me to do with my gameboy later. For now, suffice it to say that the marginal cost of an experience point just plummeted.</p>
</li>
<li><p class="first">Tim's recently had a few great posts about the First Sale Doctrine and whether software companies can bind you to contractual terms by printing them on a tiny sheet of paper that you throw out, unread, with the rest of the packaging for Office 2007. His <a class="reference external" href="http://www.techliberation.com/archives/042750.php">latest</a> is particularly interesting — in it he responds to a criticism involving open source software and its own reliance on software licenses. I think Tim's second point in response is on the money: the use of compiled software is very different from the use of source code.
Besides, there's no real reason why a more explicit contractual agreement couldn't be imposed on the distribution of open source code. Tim has noted that Microsoft could make you sign a contract to buy Windows, too, but doesn't because it would end up costing them money (and make consumers more aware of the terms of the agreements).
But the vast majority of open source developers know about the licenses associated with their hobby, even if they can't explain the differences between the GPL, BSD, Apache, Mozilla and LGPL licenses off the top of their heads. I don't think too many lines of code would be lost by requiring some sort of deliberate acknowledgment of a project's license prior to downloading its source.
But this may all be irrelevant. I'm no lawyer, but my general impression is that the exchange of money can significantly alter a legal landscape — it certainly does in other areas of intellectual property law. I'm not sure whether that works for or against open source evangelists in this case, but I think it's plausible to say that they may occupy a different legal position than that of commercial software vendors.</p>
</li>
<li><p class="first">Also at Tech Liberation, Adam Thierer <a class="reference external" href="http://www.techliberation.com/archives/042749.php">writes about wifi piggybacking</a>. I already left a lengthy comment there, so if you want to hear my ruminations on the subject you can follow the link. But more practically, I wanted to say that it's really, really easy to set up a connection-sharing arrangement. I recently installed the custom DD-WRT firmware on Emily's router and set it to repeat Scooter's signal (he'd okayed the project at the beginning of the summer). Aside from some <a class="reference external" href="http://www.bitsum.com/openwiking/owbase/ow.asp?WRT54G5_CFE">router-specific difficulties</a> that won't be relevant for anyone following the directions below, it worked like a charm.
So if you can get a willing neighbor's faint signal by the window and nowhere else, you might want to think about buying a router to handle the window-sitting for you. It's pretty simple to do:</p>
</p><ol class="arabic simple">
<li>Go to <a class="reference external" href="http://www.dd-wrt.com/wiki/index.php/Supported_Devices">this page</a> and figure out what the cheapest compatible router is, then buy it. Plan on spending about $50.</li>
<li>Follow <a class="reference external" href="http://www.dd-wrt.com/wiki/index.php/Installation">these instructions</a>, which will guide you through downloading and installing the DD-WRT firmware onto your router. To set up the router as a repeater you'll need to use the v24 release of the firmware, which is still considered beta-quality.</li>
<li>Use <a class="reference external" href="http://www.dd-wrt.com/wiki/index.php/Universal_Wireless_Repeater">these directions</a> to configure your newly-powerful router into a wireless repeater. It even works with encrypted networks! Well, provided that you have the password. Still, it's incredibly useful and seems to be quite speedy and stable based on my admittedly not-quite-rigorous testing.</li>
</ol>
</li>
<li><p class="first">Finally, an <a class="reference external" href="http://www.cnet.com/8301-13739_1-9769645-46.html">interesting but almost certainly specious argument</a> stating that Comcast's specific anti-Bittorrent measures may be illegal.</p>
</li>
</ul>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/08/31/lets-dance-to-joy-division/">let's dance to Joy Division</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-08-31T13:23:00-04:00">Friday, 31 August 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">L</div>
                </header>

                <div class="entry-content">
                    <p>I sang the praises of The Wombats a <a class="reference external" href="/2007/03/01/an-embarrassment-of-riches/">while ago</a>, although at the time the hype kaleidoscope had me confused about whether they were up &amp; coming or come &amp; gone. I thought they were the latter; it turns out that they're the former. And, judging by how frequently they seem to be popping up in my RSS reader, it seems like their debut full-length might be pretty big.</p>
<p>So here, have a couple of songs from them. The first is their most recent, I believe, and has a title that seems likely to intrigue at least a few of you.</p>
<blockquote>
<a class="reference external" href="http://metamonkey.net/mp3/The+Wombats+-+Let%27s+Dance+To+Joy+Division.mp3">The Wombats – Let's Dance To Joy Division</a></blockquote>
<p>And then there's this, which I think is a better song, but isn't quite as new:</p>
<blockquote>
<a class="reference external" href="http://metamonkey.net/mp3/The+Wombats+-+Backfire+At+The+Disco.mp3">The Wombats – Backfire At The Disco</a></blockquote>
<p>Other hypem-worthy tracks: &quot;Patricia the Stripper&quot;, &quot;Moving to New York&quot;, &quot;Sunday TV&quot;.</p>
<div class="line-block">
<div class="line"><strong>UPDATE:</strong> Hmm. This version of &quot;Backfire At The Disco&quot; is the one that I find a bit grating (it's from the CD single instead of <em>Girls, Boys &amp; Marsupials</em>. I'll try to find the good one.</div>
</div>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/08/29/love-like-fire/">love like fire</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-08-29T14:44:00-04:00">Wednesday, 29 August 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">L</div>
                </header>

                <div class="entry-content">
                    <p>I heard this on WOXY and liked it, despite WOXY being unusually sucky today (Nickel Creek!? WTF?):</p>
<blockquote>
<a class="reference external" href="http://www.lovelikefire.com/mp3/unlighted-shadow.mp3">Love Like Fire – Unlighted Shadow</a></blockquote>
<p>They're streaming the <a class="reference external" href="http://www.lovelikefire.com/music.php">entire EP</a> over at their website. And they're using the XSPF player to do so, which means that <a class="reference external" href="/2007/07/27/command-line-rock/">command line trickiness</a> could be employed to grab the whole thing, if you were so inclined.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/08/28/is-unlocking-the-iphone-legal/">is unlocking the iPhone legal?</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-08-28T11:16:00-04:00">Tuesday, 28 August 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">I</div>
                </header>

                <div class="entry-content">
                    <p>Cord Blomquist wonders this, among other things, over at <a class="reference external" href="http://www.techliberation.com/archives/042725.php">Tech Liberation</a>, saying:</p>
<blockquote>
Does AT&amp;T, Apple, or both companies have a legal case to bring against the hackers? Likely.</blockquote>
<p>Actually, it's pretty hard to say right now. There are a few types of legislation that are relevant here. The first is the odious DMCA, a law that forbids device owners from circumventing &quot;technological measures that control access to copyrighted works&quot;. Copyfighting geeks feel that if you buy a device it should belong to you and you should be free to do with it as you please. If the vendor set its price with the assumption that you'd be stuck buying ringtones or printer ink or razorblades exclusively from them, well, too bad. The DMCA provides legal protection for the aforementioned business model.</p>
<p>However, unlocking a cell phone happens to be a special case: it's one of <a class="reference external" href="http://www.copyright.gov/1201/">six current exemptions to the DMCA</a> granted by the Library of Congress.</p>
<blockquote>
Computer programs in the form of firmware that enable wireless telephone handsets to connect to a wireless telephone communication network, when circumvention is accomplished for the sole purpose of lawfully connecting to a wireless telephone communication network.</blockquote>
<p>Apple may still have some claim against the iPhone hackers. That's because circumvention devices typically employ code that's the property of the device designer. Unless I'm mistaken, the DMCA exemption doesn't grant anyone the right to use or redistribute others' code. It's also possible that circumventing the protection may necessitate the violation of patents held by the device designer.</p>
<p>A similar situation exists in the world of Xbox modding. <a class="reference external" href="http://www.infoworld.com/article/07/08/02/Feds-raid-video-game-modders-in-16-states_1.html">Until recently</a> it was easy to buy a modchip online. Properly installed, this allows you to turn your Xbox into a device that can run Linux, emulate older consoles, or act as a media center (and, yes, you can play pirated games, too).</p>
<p>But you can't do this with the chip when it first arrives in the mail. Although the device is (or was) legal on its own terms, it couldn't unlock the full potential of the Xbox without running custom firmware — firmware that was based on code to which Microsoft owns the copyright. Consequently most modchips shipped with a firmware based on Linux called <a class="reference external" href="http://en.wikipedia.org/wiki/Cromwell_(computing)">Cromwell</a>. This was built without using copyrighted code and could be legally distributed. But it wasn't capable of doing much besides booting Linux and replacing itself with new firmware loaded from a burned CD.</p>
<p>If a modchip user wanted to use his or her Xbox for other applications they'd have to hunt through the wilds of IRC to obtain the forbidden firmware. In fact, the chips would ship with detailed instructions about soldering and firmware replacement. But when you got to the part about finding alternate firmware, the manual would adopt a &quot;you didn't hear it from us&quot; sort of tone and direct the user to various websites and chatrooms that the chip manufacturer insisted weren't at all affiliated with their operation.</p>
<p>It's all a bit ridiculous. But this is the situation that Xbox owners faced, and one which may be applicable to iPhone owners, too. Until the courts or congress decide exactly what ownership of an electronic device means we'll increasingly find ourselves in these strange legal landscapes.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/08/27/unfoggedbot-source-code/">unfoggedbot source code</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-08-27T18:03:00-04:00">Monday, 27 August 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">U</div>
                </header>

                <div class="entry-content">
                    <p>For the few who might be interested, I've put the code to the <a class="reference external" href="/2007/07/12/unfoggedbot/">unfoggedbot</a> up <a class="reference external" href="http://labs.echoditto.com/rssbot">over at EchoDitto Labs</a>. I've made various improvements since the initial version — it now daemonizes, for example. If you've got any questions, feel free to get in touch with me.</p>
<p>And with that done, I hereby promise to lay off the source code releases for a while.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/08/27/alternate-status-hierarchies/">alternate status hierarchies</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-08-27T14:59:00-04:00">Monday, 27 August 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">A</div>
                </header>

                <div class="entry-content">
                    <p>I agree with everything Megan says <a class="reference external" href="http://meganmcardle.theatlantic.com/archives/2007/08/consumer_culture.php">here</a> — well, except for the Asperger's bit, which I'm <a class="reference external" href="http://www.zunta.org/blog/archives/2006/03/29/i_thought_you_g/">reflexively</a> averse to. Jason, who's <a class="reference external" href="http://www.geekstudies.org/2007/08/checking-in-from-seattle">freshly back from PAX</a>, studies questions like this one in the course of his research. I'd be curious to know what he's got to say about it.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/08/27/freakonomics-full-text-feed/">Freakonomics full-text feed</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-08-27T11:26:00-04:00">Monday, 27 August 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">F</div>
                </header>

                <div class="entry-content">
                    <p>I almost forgot: a little birdy tells me that you can find a full-text version of the <a class="reference external" href="http://freakonomics.blogs.nytimes.com/2007/08/22/the-last-word-for-now-on-our-rss-feed-an-excruciatingly-long-and-boring-post-that-will-please-exactly-no-one/">recently-bowdlerized Freakonomics RSS feed</a> at the following URL.</p>
<blockquote>
<a class="reference external" href="http://feeds.feedburner.com/freakonomics-full">http://feeds.feedburner.com/freakonomics-full</a></blockquote>
<p>At the moment, the authors are asking a very good question: <a class="reference external" href="http://freakonomics.blogs.nytimes.com/2007/08/27/why-are-we-eating-so-much-shrimp/">why are we eating so much more shrimp than we used to</a>? Shrimp just isn't very good relative to other seafood. But it's <em>everywhere</em>.</p>
<p>Being the sort of blog that it is, I'm sure that the answer will be &quot;because aquaculture and/or other factors have made the margins on shrimp much better&quot;. I think the other half of the answer, likely to remain unblogged elsewhere, is that Americans are squeamish about seafood that tastes like seafood, and you can't order chicken <em>every</em> time you go to Applebee's.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/08/27/a-little-more-on-migrating-from-typepad-to-movable-type/">a little more on migrating from Typepad to Movable Type</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-08-27T10:42:00-04:00">Monday, 27 August 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">A</div>
                </header>

                <div class="entry-content">
                    <p>I realized I might as well post this script, too. Say you're moving from one host to another, and the source exports to the MT/Typepad format (a big long text file) and the new host can read that format (<a class="reference external" href="http://wordpress.org/docs/tutorials/import-mt/">Wordpress can</a>, and of course MT/Typepad can).</p>
<p>You're facing a problem: your entries' text is probably littered with images and links pointing at your old domain. Those links are presumably going to become dead sometime after the transition; you'd like to rewrite them to point at the new domain. You'd also like to download any images, PDFs or other digital assets that they point to, then upload them to the new server.</p>
<p>Well, here's a script that you can run against the exported MT/Typepad file:</p>
<blockquote>
<pre class="literal-block">
#!/usr/bin/perl
my $url, $rewritten_url;
while(my $l = &lt;&gt;)
{
while($l =~ m/(href|src)=['&quot;](http:\/\/beutler\.typepad\.com\/.*?)['&quot;]/i)
{
$url = $2;
$rewritten_url = $url;
$rewritten_url =~ s/http:\///igx;
if($url =~ m/\.(html?|php)/i)
{
$rewritten_url =~ s/^\/beutler\.typepad\.com\/home//igx;
$rewritten_url =~ s/\.(html?|php)$/\//i;
}
else
{
my $prefix = $rewritten_url;
$prefix =~ s/^\///;
$prefix =~ s/\/[^\/]+$//;
`wget -q --directory-prefix=$prefix $url`;
}
$l =~ s/$url/$rewritten_url/gx;
}
print $l;
}
</pre>
</blockquote>
<p>If you saved this file as <em>rewrite_entries.pl</em>, you'd run it like so:</p>
<blockquote>
<pre class="literal-block">
cat MT_EXPORT_FILE.txt | ./rewrite_entries.pl &gt; MT_EXPORT_FILE_REWRITTEN.txt
</pre>
</blockquote>
<p>You'd end up with a new text file (which is the one you should import) and a subdirectory full of images and PDFs that you'll want to FTP up to your new server. There's some Brian-specific stuff in the above script, but it shouldn't take very much work to adapt it to a different site.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/08/26/cleanly-redirecting-users-from-your-old-typepad-site/">cleanly redirecting users from your old Typepad site</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-08-26T15:40:00-04:00">Sunday, 26 August 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">C</div>
                </header>

                <div class="entry-content">
                    <p>Here's a sort-of-interesting problem I've been working on recently, and which might help prevent an internet stranger or two from pulling their hair out. When you're moving from one blog to another, how do you set things up so that folks stumbling across your old site are sent to the new one? This came up while Emily and I were working on <a class="reference external" href="http://brianbeutler.com">Brian's new site</a>. His existing Typepad site had URLs like this:</p>
<blockquote>
<a class="reference external" href="http://beutler.typepad.com/home/2007/08/rove-the-erudit.html">http://beutler.typepad.com/home/2007/08/rove-the-erudit.html</a></blockquote>
<p>I knew that I wanted to clean up the formatting of these a little bit — for one thing, the .html would have to go, as I intended to use some PHP in the pages (on a web server with a standard configuration, only files ending in .php or .php5 are processed for PHP). And that &quot;/home/&quot; seemed extraneous, too.</p>
<p>I did try to make the two similar, though, to simplify things. By default Movable Type creates its URLs from the entry's title, transforming it into a unique identifier called the basename. I altered MT's default basename length so that it was 15 characters, matching the length of Typepad's basenames. I set up the new mapping in MT's Settings/Publishing area, and ended up with new URLs that looked like this:</p>
<blockquote>
<a class="reference external" href="http://www.brianbeutler.com/2007/08/rove_the_erudit/index.php">http://www.brianbeutler.com/2007/08/rove_the_erudit/index.php</a></blockquote>
<p>The index.php on the end can be left off — if you ask a Linux web server for a directory, it'll look for &quot;index.php&quot; or &quot;index.html&quot; or &quot;index.htm&quot; and send it back if it finds it. This lets you have slightly tidier-looking URLs. So our new URL is actually:</p>
<blockquote>
<a class="reference external" href="http://www.brianbeutler.com/2007/08/rove_the_erudit/">http://www.brianbeutler.com/2007/08/rove_the_erudit/</a></blockquote>
<p>With the format settled upon I was able to write some code that sits on every page of Brian's Typepad site. When a user arrives the page looks at its URL, applies a set of transformations to rewrite it into the new format, and sends the user to the result. Normally you'd want to do this in a server-side script or .htaccess file, but as far as I can tell Typepad doesn't let its users have that level of control. So I had to put it in some Javascript that I added to Brian's Typepad template:</p>
<blockquote>
<pre class="literal-block">
&lt;script type=&quot;text/javascript&quot;&gt;
location.href = location.href.replace(/beutler\.typepad\.com/,'www.brianbeutler.com').replace(/\/home\//,'/').replace(/\.html$/,'/').replace(/\-/g,'_');
&lt;/script&gt;
</pre>
</blockquote>
<p>This looks complicated, but it really just does a few things to the URL (whatever the URL may be):</p>
<ol class="arabic simple">
<li>Replace &quot;beutler.typepad.com&quot; with &quot;www.brianbeutler.com&quot;</li>
<li>Replace &quot;/home/&quot; with &quot;/&quot;</li>
<li>Replace the &quot;.html&quot; at the end of the URL with &quot;/&quot;</li>
<li>Change all hyphens in the URL to underscores</li>
</ol>
<p>It then sends the browser to the new URL.</p>
<p>Done! All I had to do now is deliver the website, lean back and adopt an attitude of extreme self-satisfaction.</p>
<p>Except... no. I wasn't done. Everything was actually much, much worse than I thought.</p>
<p>I was a little slow to catch on. Brian started receiving emails from readers who were getting 404 errors. The redirection script was sending people to the wrong places.</p>
<p>Brian's got a bunch of regular features with names that start similarly (or are identical). This creates a problem when trying to create unique basenames for each one. Movable Type and Typepad both have systems for dealing with these situations in a way that ensures each basename is distinct — if two entries are both called &quot;xyz&quot;, the second one's basename will be &quot;xyz_1&quot;, or something aong those lines. But these systems don't behave in quite the same way — or at least they don't when one system has its entries imported and the other has them authored over a period of time.</p>
<p>This resulted in situations like this:</p>
<blockquote>
<div class="line-block">
<div class="line"><strong>Typepad&nbsp;URL:</strong>&nbsp;<a class="reference external" href="http://beutler.typepad.com/home/2007/08/almost-daily--4.html">http://beutler.typepad.com/home/2007/08/almost-daily--4.html</a></div>
<div class="line"><strong>Rewritten&nbsp;URL:</strong>&nbsp;<a class="reference external" href="http://www.brianbeutler.com/2007/08/almost_daily__4/">http://www.brianbeutler.com/2007/08/almost_daily__4/</a></div>
<div class="line"><strong>Actual&nbsp;New&nbsp;URL:</strong>&nbsp;<a class="reference external" href="http://www.brianbeutler.com/2007/08/almost_daily_co_73/">http://www.brianbeutler.com/2007/08/almost_daily_co_73/</a></div>
</div>
</blockquote>
<p>The first one is the old URL. The second one is the rewritten URL, created using the code above. And the third is the <em>actual</em> URL — the one that we need to redirect to.</p>
<p>There's another problem, too. Typepad creates an entry's basename the first time you save it, even if you haven't yet published it. The basename is created from the title, as I mentioned. But if the title changes, the basename does not. However, when you import those entries into Movable Type, it recreates the basename from whatever the title ended up being. Which results in the following mess:</p>
<blockquote>
<div class="line-block">
<div class="line"><strong>Typepad&nbsp;URL:</strong>&nbsp;<a class="reference external" href="http://beutler.typepad.com/home/2007/07/h20.html">http://beutler.typepad.com/home/2007/07/h20.html</a></div>
<div class="line"><strong>Rewritten&nbsp;URL:</strong>&nbsp;<a class="reference external" href="http://www.brianbeutler.com/2007/07/h20/">http://www.brianbeutler.com/2007/07/h20/</a></div>
<div class="line"><strong>Actual&nbsp;New&nbsp;URL:</strong>&nbsp;<a class="reference external" href="http://www.brianbeutler.com/2007/07/banal_observati_49/">http://www.brianbeutler.com/2007/07/banal_observati_49/</a></div>
</div>
</blockquote>
<p>So: the redirect is fine for a lot of URLs. It fails for some proportion of URLs. But it's impossible to tell which ones just by looking at the URL, and there's no way to figure out what the new URL ought to be on the basis of the old one.</p>
<p>First things first. Let's figure out which URLs are screwed up. We'll iterate through Brian's Typepad archive pages. For each one we'll grab all of the permalinks. Then we'll rewrite them using the rules implemented by the Javascript above. Finally, we'll test each rewritten URL. If it generates a &quot;page not found&quot; message, we'll spit out some code that'll help us with future analysis (more on that in a sec).</p>
<p>Here we go...</p>
<blockquote>
<pre class="literal-block">
#!/usr/bin/perl
print &quot;&lt;?php
\$typepad_entries = array();
&quot;;
for(my $i=34;$i&gt;=12;$i--)
{
my $url = 'http://beutler.typepad.com/home/2007/week' . $i . '/index.html';
my $html = `curl -s $url`;
my &#64;matches = ($html =~ m/&lt;a class=&quot;permalink&quot; href=&quot;(.*?)&quot;&gt;Permalink&lt;\/a&gt;/isg);
for $match (&#64;matches)
{
my $permalink = $match;
my $rewritten_link = $permalink;
$rewritten_link =~ s/beutler\.typepad\.com/www.brianbeutler.com/igx;
$rewritten_link =~ s/\/home\//\//igx;
$rewritten_link =~ s/\.html$/\//igx;
$rewritten_link =~ s/\-/_/gx;
my $new_html = `curl -s $rewritten_link`;
if($new_html =~ /404 not found/is)
{
my $typepad_html = `curl -s $permalink`;
my $date = '0';
if($typepad_html =~ m/&lt;h2 class=&quot;date-header&quot;&gt;(.*?)&lt;\/h2&gt;/isg)
{
$date = $1;
}
my $body = '';
if($typepad_html =~ m/&lt;div class=&quot;entry-body&quot;&gt;(.*?)&lt;\/div&gt;/isg)
{
$body = $1;
}
print &quot;
\$body = &lt;&lt;&lt;EOBODY
$body
EOBODY;
\$typepad_entries[] = array(
'url' =&gt; '$permalink',
'rewritten_url'  =&gt; '$rewritten_link',
'date' =&gt; '$date',
'body' =&gt; \$body,
);
\$body = '';
&quot;;
}
}
}
print &quot;
?&gt;&quot;;
</pre>
</blockquote>
<p>This produces output like so:</p>
<blockquote>
<pre class="literal-block">
&lt;?php
$typepad_entries = array();
$body = &lt;&lt;&lt;EOBODY
&lt;p&gt;As a physicist, I think this is sort of an &lt;a href=&quot;http://www.slate.com/id/2171898/fr/rss/&quot;&gt;interesting way to look&lt;/a&gt; at economies and economic development. As a blogger, though, I think it confirms a pretty banal point: that regions of the world without diverse or fungible resources don't tend to have strong economies. &lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://beutler.typepad.com/photos/uncategorized/2007/08/18/picture_1.png&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://beutler.typepad.com/photos/uncategorized/2007/08/18/picture_1.png&quot; title=&quot;Picture_1&quot; alt=&quot;Picture_1&quot; class=&quot;image-full&quot; style=&quot;margin: 0px 5px 5px 0px; float: left;&quot; /&gt;&lt;/a&gt;
&lt;/p&gt;
EOBODY;
$typepad_entries[] = array(
'url' =&gt; 'http://beutler.typepad.com/home/2007/08/the-physics-of-.html',
'rewritten_url'  =&gt; 'http://www.brianbeutler.com/2007/08/the_physics_of_/',
'date' =&gt; 'August 18, 2007',
'body' =&gt; $body,
);
$body = '';
and so on, repeating the above block for each entry
</pre>
</blockquote>
<p>So we've got the Typepad entries exported in an easily-processed format — one that includes the body, date, and information about the URL. Next we need to get the imported Movable Type entries into a similarly useful format. Then we'll write some code that goes through, compares the bodies of the entries and tries to match them up with one another (with the help of the date).</p>
<p>No fancy scripting is required for getting the Movable Type entries. We just need to make a new template in MT that spits out the entries in the format we want:</p>
<blockquote>
<pre class="code php literal-block">
<span class="cp">&lt;?php</span>
<span class="nv">$mt_entries</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
<span class="o">&lt;</span><span class="nx">MTEntries</span> <span class="nx">lastn</span><span class="o">=</span><span class="s2">&quot;9999&quot;</span><span class="o">&gt;</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="s">&lt;&lt;&lt;</span><span class="dl">EOBODY</span><span class="s">
&lt;$MTEntryBody$&gt;
</span><span class="dl">EOBODY</span><span class="p">;</span>
<span class="nv">$mt_entries</span><span class="p">[]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
<span class="s1">'permalink'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;$MTEntryPermalink$&gt;'</span><span class="p">,</span>
<span class="s1">'date'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;$MTEntryDate$&gt;'</span><span class="p">,</span>
<span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nv">$body</span><span class="p">,</span>
<span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
<span class="o">&lt;/</span><span class="nx">MTEntries</span><span class="o">&gt;</span>
<span class="cp">?&gt;</span><span class="x">&quot;;?&gt;</span>
</pre>
</blockquote>
<p>You might've noticed that despite our initial Perlishness, the entries are being stored in PHP. That's because PHP's got a handy <a class="reference external" href="http://www.php.net/similar_text">text-comparison function</a> that I want to use (as well as easy-to-use <a class="reference external" href="http://www.php.net/strtotime">date conversion functions</a>).</p>
<p>Matching the entries up to one another goes like so:</p>
<blockquote>
<pre class="code php literal-block">
<span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'mt_entries.php'</span><span class="p">);</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'typepad_entries.php'</span><span class="p">);</span>
<span class="c1">// pull out everything except lowercase letters -- simplify the comparisons
</span><span class="k">function</span> <span class="nf">SimplifyString</span><span class="p">(</span><span class="nv">$x</span><span class="p">)</span>
<span class="p">{</span>
<span class="k">return</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="s1">'/[^a-z]/x'</span><span class="p">,</span><span class="s1">''</span><span class="p">,</span><span class="nb">strtolower</span><span class="p">(</span><span class="nb">strip_tags</span><span class="p">(</span><span class="nb">trim</span><span class="p">(</span><span class="nv">$x</span><span class="p">))));</span>
<span class="p">}</span>
<span class="nv">$sorted_mt_entries</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
<span class="c1">// sort the entries by date -- we'll use this later
</span><span class="k">foreach</span><span class="p">(</span><span class="nv">$mt_entries</span> <span class="k">as</span> <span class="nv">$entry</span><span class="p">)</span>
<span class="nv">$sorted_mt_entries</span><span class="p">[</span><span class="nb">date</span><span class="p">(</span><span class="s1">'z'</span><span class="p">,</span><span class="nb">strtotime</span><span class="p">(</span><span class="nv">$entry</span><span class="p">[</span><span class="s1">'date'</span><span class="p">]))][]</span> <span class="o">=</span> <span class="nv">$entry</span><span class="p">;</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$typepad_entries</span> <span class="k">as</span> <span class="nv">$typepad_entry</span><span class="p">)</span>
<span class="p">{</span>
<span class="nv">$most_similar_entry</span> <span class="o">=</span> <span class="k">NULL</span><span class="p">;</span>
<span class="c1">// ensure that the body isn't empty -- otherwise it'll match everything equally
</span><span class="k">if</span><span class="p">(</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$typepad_entry</span><span class="p">[</span><span class="s1">'body'</span><span class="p">])</span><span class="o">&gt;</span><span class="mi">20</span><span class="p">)</span>
<span class="p">{</span>
<span class="nv">$entries_to_examine</span> <span class="o">=</span> <span class="nv">$mt_entries</span><span class="p">;</span>
<span class="c1">// if we can get away with it, only examine the entries from the day in question
// this both minimizes the set of possible wrong answers and improves
// processing time
</span><span class="k">if</span><span class="p">(</span><span class="nv">$typepad_entry</span><span class="p">[</span><span class="s1">'date'</span><span class="p">]</span><span class="o">!=</span><span class="s1">'0'</span><span class="p">)</span>
<span class="nv">$entries_to_examine</span> <span class="o">=</span> <span class="nv">$sorted_mt_entries</span><span class="p">[</span><span class="nb">date</span><span class="p">(</span><span class="s1">'z'</span><span class="p">,</span><span class="nb">strtotime</span><span class="p">(</span><span class="nv">$typepad_entry</span><span class="p">[</span><span class="s1">'date'</span><span class="p">]))];</span>
<span class="nv">$max_similarity</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$entries_to_examine</span> <span class="k">as</span> <span class="nv">$mt_entry</span><span class="p">)</span>
<span class="p">{</span>
<span class="nb">similar_text</span><span class="p">(</span><span class="nx">SimplifyString</span><span class="p">(</span><span class="nv">$typepad_entry</span><span class="p">[</span><span class="s1">'body'</span><span class="p">]),</span><span class="nx">SimplifyString</span><span class="p">(</span><span class="nv">$mt_entry</span><span class="p">[</span><span class="s1">'body'</span><span class="p">]),</span><span class="nv">$similarity</span><span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nv">$similarity</span><span class="o">&gt;</span><span class="nv">$max_similarity</span><span class="p">)</span>
<span class="p">{</span>
<span class="nv">$most_similar_entry</span> <span class="o">=</span> <span class="nv">$mt_entry</span><span class="p">;</span>
<span class="nv">$max_similarity</span> <span class="o">=</span> <span class="nv">$similarity</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">}</span>
<span class="k">if</span><span class="p">(</span><span class="nv">$max_similarity</span><span class="o">&gt;</span><span class="mi">95</span><span class="p">)</span> <span class="c1">// only use very similar entries
</span><span class="p">{</span>
<span class="k">print</span> <span class="s2">&quot;Redirect 301 &quot;</span> <span class="o">.</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="s1">'/http:\/\/(.*?)\//'</span><span class="p">,</span><span class="s1">'/'</span><span class="p">,</span><span class="nv">$typepad_entry</span><span class="p">[</span><span class="s1">'rewritten_url'</span><span class="p">])</span> <span class="o">.</span> <span class="s2">&quot; &quot;</span> <span class="o">.</span> <span class="nv">$most_similar_entry</span><span class="p">[</span><span class="s1">'permalink'</span><span class="p">]</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
<span class="k">print</span> <span class="s2">&quot;# !!! no good match found: &quot;</span> <span class="o">.</span> <span class="nv">$typepad_entry</span><span class="p">[</span><span class="s1">'url'</span><span class="p">]</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
<span class="k">print</span> <span class="s2">&quot;# !!! entry too short: &quot;</span> <span class="o">.</span> <span class="nv">$typepad_entry</span><span class="p">[</span><span class="s1">'url'</span><span class="p">]</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</pre>
</blockquote>
<p>Run this from the command line and it'll print output like the following:</p>
<blockquote>
<pre class="literal-block">
Redirect 301 /2007/07/most_dangerous_/ http://www.brianbeutler.com/2007/07/most_dangerous/
Redirect 301 /2007/07/wheres_all_the_/ http://www.brianbeutler.com/2007/07/wheres_all_the/
Redirect 301 /2007/07/almost_daily__4/ http://www.brianbeutler.com/2007/07/almost_daily_co_63/
Redirect 301 /2007/07/bias/ http://www.brianbeutler.com/2007/07/bias_1/
</pre>
</blockquote>
<p>Which can be pasted directly into an .htaccess file. Now the Javascript on Typepad will still send users to the wrong URL, but once they arrive at that incorrect URL the server will catch their request and redirect it to the right location.</p>
<p>I've just put it online a moment ago, but it seems to work well. And there was only one entry for which the text-matching produced a score of less than 100% similarity. It was easy enough to catch it and manually set the URL.</p>
<p>Of course, it'd be nice of us to keep all of these redirects somewhere other than .htaccess — we're wasting the web server's resources by making it ponder all of them whenever it wants to serve a page. But as sysadmin sins go this is at least a common one. Given the limits of Typepad, the not-outrageous quantity of redirects and the nonexistent noticeable benefit to doing this 100% cleanly, I didn't bother.</p>
<p>But if you wanted to be really slick about it you could make a custom PHP script with all the redirects your 404 handler — that way the redirection overhead would only be incurred when a file wasn't found. There's probably an extremely slick way to do this conditionally with a RewriteRule, too, but I don't know it off the top of my head.</p>
<p>Anyway, there's complete the tale of my weekend's technical adventures (well, except for buying <a class="reference external" href="http://www.kickgaming.com/supercard-sd-and-superkey-pr-83.html">one of these</a>). Hopefully a weary Typepad refugee will someday stumble across my post and get some use out of it.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/08/26/7-for-a-wii-modchip/">$7 for a Wii modchip!?</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-08-26T14:47:00-04:00">Sunday, 26 August 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">$</div>
                </header>

                <div class="entry-content">
                    <p><a class="reference external" href="http://www.linker4u.com/pp/item_detail.asp?itemID=%7B54C60E9F-9FD9-48F9-A291-7039CA8B700E%7D">Man that's cheap</a>. I suppose you do need to buy a <a class="reference external" href="http://www.linker4u.com/pp/item_detail.asp?itemID=%7BA759CE86-6957-4203-ADD4-9C8847B03DA2%7D">special screwdriver</a>, too. Still!</p>
<p><strong>UPDATE:</strong> Having read a bit more on the subject, it seems very likely that this is a clone of the WiiKey rather than the original chip. That wouldn't normally be a problem unless you were really counting on getting a holographic sticker with your order. But the clones don't come with firmware preinstalled — you have to download it from the <a class="reference external" href="http://www.wiikey.cn">WiiKey website</a>, burn it to a disc and run it in your modded Wii, thereby loading the code on the chip. Unfortunately, Nintendo released a firmware update to the Wii a few weeks ago that made the disc format in which the firmware is encoded nonfunctional. This appears to be a temporary problem — folks have already figured out how to remaster Wii discs so that they can boot. But the WiiKey people haven't yet repackaged their firmware in a format that will work on updated Wiis.</p>
<p>So if you have an official WiiKey chip you already have firmware loaded and are fine. If you buy a clone you'll end up waiting for WiiKey to release a bootable upgrade disc. It's not a big deal, really, but I wouldn't want you to end up marooned. The genuine chip costs about $20 and can be acquired from the vendors listed on the WiiKey website.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/08/25/comment-feed-finally-fixed/">comment feed: finally fixed</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-08-25T11:29:00-04:00">Saturday, 25 August 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">C</div>
                </header>

                <div class="entry-content">
                    <p>To the one or two people who actually use the <a class="reference external" href="/2007/08/25/comment-feed-finally-fixed/">comment RSS feed</a>: rejoice! I finally fixed it so that entry titles and links work properly within it.</p>

                </div>
            </article>
            <article class="typology-post typology-layout-a">
                <header class="entry-header">
                    <h2 class="entry-title h1">
                        <a href="https://tomlee.wtf/2007/08/23/more-than-you-probably-wanted-to-know-about-audio-compression/">more than you probably wanted to know about audio compression</a>
                    </h2>
                    <div class="entry-meta">
                        <span class="meta-item">
                            <time datetime="2007-08-23T12:39:00-04:00">Thursday, 23 August 2007</time>
                        </span>
                    </div>
                    <div class="post-letter">M</div>
                </header>

                <div class="entry-content">
                    <p>A somewhat dense but <a class="reference external" href="http://spectrum.ieee.org/aug07/5429">really good article</a> from IEEE Spectrum (found via Slashdot). It comes complete with a somewhat-irritating but still very informative <a class="reference external" href="http://spectrum.ieee.org/aug07/5480">Flash demonstration</a> of the topic it discusses: how recorded music has become louder and more fatiguing as a result of an arms race between music producers that trades upon our pathetically easily-fooled nervous systems. It's like the omnipresence of corn syrup in processed foods: everyone says they don't like it, but it's hard to argue with figures showing that sweetness = sales.</p>
<p>The article covers a lot of ground, touching on numerous issues related to how audio storage technology works (I had no idea that engineers could alter vinyl's dynamic range during mastering — sort of like adjusting the bitrate on an MP3). Definitely worth a read. And if you have any irritating audiophile friends, you may want to send them the link. If they don't understand the piece, politely tell them to shut up for a bit about how awful digital audio technology is.</p>

                </div>
            </article>
        </div>
    </div>

    <!-- Archive by Year Section -->

</div>
    </div>

    <footer id="typology-footer" class="typology-footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy;  Tom Lee</p>
                <!-- <p>Powered by <a href="https://getpelican.com/" target="_blank" rel="noopener">Pelican</a></p> -->
            </div>
        </div>
    </footer>
</body>
</html>