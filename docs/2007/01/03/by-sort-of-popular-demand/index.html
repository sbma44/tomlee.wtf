<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>by sort-of-popular demand - Tom Lee</title>

    <meta name="description" content="UPDATE: I'm no longer using this code since the move to Wordpress -- you might want to check out this plugin if you're in a similar situation....">
    <meta name="robots" content="noindex, nofollow">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Domine:wght@400;600;700&family=Josefin+Sans:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Theme CSS -->
    <link rel="stylesheet" href="https://tomlee.wtf/theme/css/style.css">

    <link href="https://tomlee.wtf/feed.xml" type="application/atom+xml" rel="alternate" title="Tom Lee Atom Feed" />

    <script data-host="https://app.microanalytics.io" data-dnt="false" src="https://app.microanalytics.io/js/script.js" id="ZwSg9rf6GA" async defer></script>

</head>

<body>
    <header id="typology-header" class="typology-header">
        <div class="container">
            <div class="header-content">
                <div class="site-branding">
                    <h1 class="site-title"><a href="https://tomlee.wtf/">Tom Lee</a></h1>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li class="social-icon"><a href="https://tomlee.wtf/search/" title="Search" aria-label="Search">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                        </a></li>
                        <!-- <li><a href="https://tomlee.wtf/about/">About</a></li>
                        <li><a href="https://tomlee.wtf/projects/">Projects</a></li> -->
                        <li class="social-icon"><a href="https://github.com/sbma44" target="_blank" rel="noopener" title="GitHub" aria-label="GitHub">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                        </a></li>
                        <li class="social-icon"><a href="https://x.com/tjl" target="_blank" rel="noopener" title="Twitter" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg>
                        </a></li>
                        <li class="social-icon"><a href="https://bsky.app/profile/tjl.bsky.social" target="_blank" rel="noopener" title="Bluesky" aria-label="Bluesky">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8z"/></svg>
                        </a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <div class="typology-fake-bg">
<div class="typology-section">
    <div class="section-content">
        <article class="typology-post typology-single-post">
            <header class="entry-header" data-pagefind-ignore>
                <h1 class="entry-title" data-pagefind-meta="title">by sort-of-popular demand</h1>

                <div class="entry-meta">
                    <span class="meta-item">
                        <time datetime="2007-01-03T16:36:00-05:00" data-pagefind-meta="date">Wednesday, 03 January 2007</time>
                        <span data-pagefind-filter="year" style="display: none;">2007</span>
                    </span>
                </div>

                <div class="post-letter">B</div>
            </header>

            <div class="entry-content" data-pagefind-body>
                <p><strong>UPDATE:</strong> I'm no longer using this code since the move to Wordpress -- you might want to check out <a class="reference external" href="http://wordpress.org/extend/plugins/flickr-tag/installation/">this plugin</a> if you're in a similar situation.</p>
<p>I've now had a whopping three people tell me that they think the lightbox/flickr thing on <a class="reference external" href="/2007/01/01/welcome-to-2007-everybody/">this post</a> is neat. So here's the script and the process for installing it, for anyone who'd like it (and is running their blog on a PHP-capable webhost).</p>
<ol class="arabic">
<li><p class="first">Get and install <a class="reference external" href="http://www.huddletogether.com/projects/lightbox2/">Lightbox2</a> on your site</p>
</li>
<li><p class="first">Do the same for <a class="reference external" href="http://www.phpflickr.com">PHPFlickr</a></p>
</li>
<li><p class="first">Get a <a class="reference external" href="http://www.flickr.com/services/api/misc.api_keys.html">Flickr API key</a></p>
</li>
<li><div class="first line-block">
<div class="line">Use it (and your username) to fill out this script. Place it somewhere that's accessible to code placed in your blog entries — your header file is a good bet, although you'll want to be sure its filename ends in .php. Really, anything ending in .php in your Movable Type templates section will probably be fine. Wordpress users should have an even easier time of it.</div>
</div>
<blockquote>
<pre class="literal-block">
&lt;?php
define('FLICKR_USERNAME','your username');
define('FLICKR_API_KEY','your api key goes here'); // http://www.flickr.com/services/api/misc.api_keys.html
require_once('/path/to/phpFlickr.php'); // http://www.phpflickr.com/
function makeLightboxPhotoset($photoset_id)
{
$flickr = new phpFlickr(FLICKR_API_KEY);
$flickr-&gt;enableCache(&quot;fs&quot;, &quot;/tmp&quot;, 300);
if($photos = $flickr-&gt;photosets_getPhotos($photoset_id))
{
print '&lt;div class=&quot;lightbox-photoset&quot; id=&quot;photoset-' . $photos['id'] . '&quot;&gt;';
foreach($photos['photo'] as $photo)
{
$photo_description = $flickr-&gt;photos_getInfo($photo['id']);
if(count($photo_description['urls']['url']))
{
$photo_link = '&lt;a href=&quot;' . $photo_description['urls']['url'][0]['_value'] . '&quot;&gt;photo page (' . $photo_description['comments'] . ' comment' . (($photo_description['comments']==1) ? '' : 's') . ')&lt;/a&gt; / ';
}
else
{
$photo_link = '';
}
$title_html = '&lt;div class=&quot;lightbox-caption&quot;&gt;&lt;span class=&quot;title&quot;&gt;' . $photo['title'] . '&lt;/span&gt;&lt;br/&gt;' . $photo_description['description'] . '&lt;div class=&quot;links&quot;&gt;' . $photo_link . '&lt;a href=&quot;http://www.flickr.com/photos/' . FLICKR_USERNAME . '/sets/' . $photos['id'] . '/&quot;&gt;photoset page&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;';
$title_html = str_replace('&lt;','&lt;',$title_html);
$title_html = str_replace('&gt;','&gt;',$title_html);
$title_html = str_replace('&quot;','&quot;',$title_html);
print '&lt;a href=&quot;http://static.flickr.com/' . $photo['server'] . '/' . $photo['id'] . '_' . $photo['secret'] . '.jpg&quot; rel=&quot;lightbox[' . $photoset_id . ']&quot; title=&quot;' . $title_html . '&quot;&gt;&lt;img src=&quot;http://static.flickr.com/' . $photo['server'] . '/' . $photo['id'] . '_' . $photo['secret'] . '_s.jpg&quot;/&gt;&lt;/a&gt;';
}
print '&lt;/div&gt;';
}
}
?&gt;
</pre>
</blockquote>
</li>
<li><div class="first line-block">
<div class="line">You'll probably want to drop this CSS into your stylesheet, too:</div>
</div>
<blockquote>
<pre class="literal-block">
.lightbox-photoset
{
width: 90%;
margin: 0 auto;
text-align: center;
}
.lightbox-photoset img
{
border: 1px solid #AAA;
margin: 0 5px 5px 0;
}
.lightbox-caption
{
width: 100%;
margin-bottom: 10px;
font-weight: normal;
}
.lightbox-caption .title
{
font-weight: bold;
}
.lightbox-caption .links
{
margin-top: 1em;
font-size: 10px;
}
</pre>
</blockquote>
</li>
<li><div class="first line-block">
<div class="line">To use the function, get the photoset ID from your Flickr page. For example:</div>
</div>
<blockquote>
<p><a class="reference external" href="http://www.flickr.com/photos/sbma44/sets/72157594452559819/">http://www.flickr.com/photos/sbma44/sets/72157594452559819/</a></p>
</blockquote>
<p>Then call the function in your blog entry like so:</p>
<blockquote>
<p>&lt;?php makeLightboxPhotoset('72157594452559819');?&gt;</p>
</blockquote>
<p>Again, the .php extension is important to ensure that your code is run. In this case, you'll want to make sure that the filenames of all the pages generated by your blogging software — the front page and individual entry archives — end in .php (or, in Wordpress, that you've installed one of <a class="reference external" href="http://priyadi.net/archives/2005/03/02/wordpress-php-exec-plugin/">the</a> <a class="reference external" href="http://www.nosq.com/blog/2006/01/runphp-plugin-for-wordpress/">plugins</a> that allow you to use PHP in the text of your entries).</p>
</li>
</ol>
<p>That's it. Not the simplest thing in the world, but for anyone with any PHP knowledge it shouldn't be very difficult at all.</p>

            </div>

        </article>
    </div>
</div>
    </div>

    <footer id="typology-footer" class="typology-footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy;  Tom Lee</p>
                <!-- <p>Powered by <a href="https://getpelican.com/" target="_blank" rel="noopener">Pelican</a></p> -->
            </div>
        </div>
    </footer>
</body>
</html>