{% extends "base.html" %}

{% block title %}{{ article.title|striptags }} - {{ SITENAME }}{% endblock %}

{% block extra_head %}
{% if article.description %}
<meta name="description" content="{{ article.description }}">
{% endif %}
{% if article.tags %}
<meta name="keywords" content="{{ article.tags|join(', ') }}">
{% endif %}
{% endblock %}

{% block content %}
<div class="typology-section">
    <div class="section-content">
        <article class="typology-post typology-single-post">
            <header class="entry-header" data-pagefind-ignore>
                <h1 class="entry-title" data-pagefind-meta="title">{{ article.title }}</h1>

                {% if article.date or article.author %}
                <div class="entry-meta">
                    {% if article.date %}
                    <span class="meta-item">
                        <time datetime="{{ article.date.isoformat() }}" data-pagefind-meta="date">{{ article.date.strftime('%A, %d %B %Y') }}</time>
                        <span data-pagefind-filter="year" style="display: none;">{{ article.date.strftime('%Y') }}</span>
                    </span>
                    {% endif %}
                </div>
                {% endif %}

                {% if article.title %}
                <div class="post-letter">{{ article.title[0]|upper }}</div>
                {% endif %}
            </header>

            <div class="entry-content" data-pagefind-body>
                {{ article.content }}
            </div>

            {% if article.tags %}
            <div class="entry-tags" data-pagefind-ignore>
                <p>
                    <strong>Tags:</strong>
                    {% for tag in article.tags %}
                    <a href="{{ SITEURL }}/{{ tag.url }}">#{{ tag }}</a>{% if not loop.last %}, {% endif %}
                    {% endfor %}
                </p>
            </div>
            {% endif %}
        </article>
    </div>
</div>
{% endblock %}

